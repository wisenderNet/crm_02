'use strict';
const W = b, X = b;
(function (c, d) {
    const U = b, V = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(U(0x18f)) / (-0x1165 + -0x1861 + -0x159 * -0x1f) * (-parseInt(U(0x19e)) / (0x11a * 0x4 + 0x23e2 + -0x2848)) + -parseInt(U(0x1af)) / (0xc1 * -0x23 + 0x13a0 + 0x6c6) * (-parseInt(U(0x17f)) / (0xd * 0x2b3 + -0x1221 + -0x10f2)) + -parseInt(V(0x1c8)) / (-0x10b1 + 0x4a1 * -0x1 + 0x1557) + parseInt(V(0x1d6)) / (0xafb + 0x197d + -0x3 * 0xc26) * (-parseInt(U(0x1a0)) / (0x25eb + -0x1 * 0x232 + 0x5f3 * -0x6)) + -parseInt(U(0x16e)) / (-0x11 * -0x43 + -0x4 * -0x547 + 0x1 * -0x1987) + parseInt(U(0x1d5)) / (-0x2b * 0xb2 + 0xf4d + 0xea2 * 0x1) * (-parseInt(V(0x1b3)) / (0xf8 * 0x1c + 0xb5f + 0xb * -0x37f)) + -parseInt(V(0x181)) / (-0x2325 + -0xca4 + 0x2fd4) * (-parseInt(V(0x1ac)) / (-0x12b2 + 0x2 * 0x439 + 0x526 * 0x2));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0x7fbed + -0x994bd + -0x301a3 * -0x8));
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x7 * 0x475 + -0x1069 + -0x1 * 0xd5d);
        let h = e[f];
        return h;
    }, b(c, d);
}
var __importDefault = this && this[W(0x1ae) + X(0x184)] || function (c) {
    const Y = X;
    return c && c[Y(0x1d7)] ? c : { 'default': c };
};
const k = {};
function a() {
    const a1 = [
        'egrationsT',
        'aqkyO',
        'lDcqp',
        'ticketId',
        '\x20found\x20wit',
        'VHYZa',
        'leys',
        'model',
        'ffUDh',
        'tionsServi',
        'rs/AppErro',
        'FkdjY',
        '2itdwQy',
        'Emit',
        '77aLCGOe',
        'lrDoX',
        'chat:updat',
        'ers/GetTic',
        'djXYJ',
        'include',
        '../Integra',
        'ptogY',
        'ijlcs',
        'type',
        'default',
        'ers/socket',
        '444gkOXRl',
        'RmrMO',
        '__importDe',
        '1911873gqBunL',
        'ticket',
        'messageId',
        'xIWAj',
        '105270beBxHw',
        'rcqlm',
        'tsiyl',
        'ltEjZ',
        'tion',
        'getTime',
        'parse',
        'G_MSG',
        'EyTqe',
        'payload',
        'bgqgD',
        'erty',
        'message',
        'edited',
        'defineProp',
        '../../help',
        'G_WAPP_MSG',
        'AvmQy',
        'remoteJid',
        'ers/GetInt',
        'cEdcq',
        '2846040JrLMAL',
        'ketWbotBai',
        'HLkpE',
        'h\x20this\x20ID.',
        'dataJson',
        '../../erro',
        'VhzCS',
        'update',
        'No\x20message',
        'key',
        'n8n',
        'iesre',
        'pqgLB',
        '360lgDMQN',
        '265116afZARS',
        '__esModule',
        'integratio',
        '558168LqNfkR',
        'ageWebHook',
        'ls/Message',
        'LVFEi',
        '../../mode',
        'ERR_EDITIN',
        'sendMessag',
        'ype',
        'createdAt',
        'text',
        'tenantId',
        'quotedMsg',
        'findOne',
        'ls/Ticket',
        'useIntegra',
        'edit',
        'vvFrB',
        '4ippjJY',
        'Cvanw',
        '462011crpUeV',
        'eoxfQ',
        'contact',
        'fault',
        'ERR_FINDIN',
        'csHpx',
        'nId',
        'SRiBU',
        'HandleMess',
        'value',
        'Ipqab',
        'MessageWeb',
        'where',
        'pUYvn',
        '220153ySomff',
        'Hook',
        'ces/Handle'
    ];
    a = function () {
        return a1;
    };
    return a();
}
k[W(0x18a)] = !![], Object[W(0x1c1) + W(0x1be)](exports, X(0x1d7), k);
const AppError_1 = __importDefault(require(W(0x1cd) + W(0x19c) + 'r')), GetTicketWbotBaileys_1 = __importDefault(require(X(0x1c2) + X(0x1a3) + W(0x1c9) + W(0x198))), Message_1 = __importDefault(require(W(0x172) + X(0x170))), Ticket_1 = __importDefault(require(W(0x172) + W(0x17b))), socketEmit_1 = __importDefault(require(W(0x1c2) + W(0x1ab) + X(0x19f))), HandleMessageWebHook_1 = require(X(0x1a6) + X(0x19b) + W(0x191) + W(0x18c) + X(0x190)), GetIntegrationsType_1 = __importDefault(require(X(0x1c2) + W(0x1c6) + X(0x192) + X(0x175))), EditWhatsAppMessage = async ({
        messageId: o,
        tenantId: p,
        body: q
    }) => {
        const Z = W, a0 = X, r = {};
        r[Z(0x180)] = a0(0x185) + a0(0x1ba), r[a0(0x1b2)] = Z(0x173) + a0(0x1c3), r[a0(0x1bb)] = a0(0x1d0) + a0(0x196) + Z(0x1cb), r[a0(0x194)] = function (z, A) {
            return z !== A;
        }, r[Z(0x186)] = a0(0x17e), r[Z(0x182)] = a0(0x1ce), r[Z(0x188)] = Z(0x1b0), r[a0(0x1a7)] = Z(0x183), r[Z(0x1c4)] = a0(0x1b5), r[Z(0x1b6)] = function (z, A) {
            return z !== A;
        }, r[Z(0x171)] = Z(0x193), r[Z(0x1c7)] = function (z, A) {
            return z / A;
        }, r[Z(0x1ad)] = function (z, A) {
            return z - A;
        }, r[Z(0x1a4)] = function (z, A) {
            return z > A;
        }, r[Z(0x19d)] = function (z, A) {
            return z === A;
        }, r[a0(0x18e)] = Z(0x1a1), r[Z(0x197)] = function (z, A) {
            return z !== A;
        }, r[a0(0x18b)] = Z(0x1ca), r[a0(0x19a)] = Z(0x1d2), r[a0(0x1d4)] = function (z, A) {
            return z === A;
        }, r[Z(0x1b4)] = Z(0x1a8), r[Z(0x1d3)] = Z(0x1a2) + 'e', r[a0(0x1bd)] = a0(0x179);
        const s = r;
        let t;
        try {
            if (s[a0(0x194)](s[Z(0x186)], s[Z(0x182)])) {
                const y = {};
                y[a0(0x1b1)] = o, y[Z(0x178)] = p;
                const z = {};
                z[a0(0x199)] = Ticket_1[a0(0x1aa)], z['as'] = s[Z(0x188)], z[a0(0x1a5)] = [s[a0(0x1a7)]];
                const A = {};
                A[a0(0x18d)] = y, A[Z(0x1a5)] = [z], t = await Message_1[Z(0x1aa)][Z(0x17a)](A);
                if (!t) {
                    if (s[Z(0x194)](s[Z(0x1c4)], s[a0(0x1c4)]))
                        throw new y[(Z(0x1aa))](s[Z(0x180)]);
                    else
                        throw new AppError_1[(Z(0x1aa))](s[a0(0x1bb)]);
                }
            } else
                throw new d[(a0(0x1aa))](s[a0(0x1b2)]);
        } catch (D) {
            if (s[Z(0x1b6)](s[a0(0x171)], s[a0(0x171)]))
                throw new d[(Z(0x1aa))](s[Z(0x1b2)]);
            else
                throw new AppError_1[(Z(0x1aa))](s[a0(0x180)]);
        }
        const {ticket: u} = t, v = await (-0x37a * -0x7 + -0xfb2 + -0x8a4, GetTicketWbotBaileys_1[a0(0x1aa)])(u), w = JSON[a0(0x1b9)](t[Z(0x1cc)]), x = w[Z(0x1d1)][Z(0x1c5)];
        try {
            const F = {};
            F[Z(0x177)] = q, F[Z(0x17d)] = w[a0(0x1d1)], await v[a0(0x174) + 'e'](x, F, {});
            const G = s[a0(0x1c7)](s[a0(0x1ad)](new Date()[a0(0x1b8)](), new Date(t[a0(0x176)])[Z(0x1b8)]()), 0x549e + -0xa773 * -0x2 + -0xb924);
            if (s[Z(0x1a4)](G, -0xd52 + 0x566 * -0x2 + 0x2 * 0xc14)) {
                if (s[Z(0x19d)](s[a0(0x18e)], s[a0(0x18e)]))
                    throw new AppError_1[(a0(0x1aa))](s[a0(0x1b2)]);
                else
                    throw new d[(Z(0x1aa))](s[Z(0x1b2)]);
            }
            if (s[a0(0x194)](t[Z(0x1c0)], null)) {
                if (s[a0(0x197)](s[Z(0x18b)], s[Z(0x18b)])) {
                    const R = {};
                    return R[Z(0x1aa)] = K, F && R[Z(0x1d7)] ? J : R;
                } else
                    throw new AppError_1[(a0(0x1aa))](s[a0(0x1b2)]);
            }
            const H = {};
            H[a0(0x1c0)] = q, await t[Z(0x1cf)](H);
            const {ticket: I} = t;
            if (s[a0(0x19d)](I[a0(0x17c) + Z(0x1b7)], !![])) {
                const R = await (-0x5e0 + -0x1eb2 + 0x2492, GetIntegrationsType_1[a0(0x1aa)])(I[Z(0x16d) + Z(0x187)]);
                if (s[a0(0x19d)](R, s[Z(0x19a)])) {
                    if (s[Z(0x1d4)](s[Z(0x1b4)], s[Z(0x1b4)]))
                        await (0x2b9 + -0x95 + -0x224, HandleMessageWebHook_1[a0(0x189) + Z(0x16f)])(I[Z(0x16d) + a0(0x187)], o);
                    else
                        throw new d[(a0(0x1aa))](s[a0(0x1bb)]);
                }
            }
            const J = {};
            J[Z(0x178)] = I[a0(0x178)], J[Z(0x1a9)] = s[a0(0x1d3)], J[a0(0x1bc)] = t, (0x250c * -0x1 + -0x1cfe + 0x420a, socketEmit_1[a0(0x1aa)])(J);
            const K = {};
            K[a0(0x1b1)] = o, K[a0(0x178)] = p;
            const L = {};
            L[a0(0x199)] = Ticket_1[a0(0x1aa)], L['as'] = s[a0(0x188)], L[a0(0x1a5)] = [s[a0(0x1a7)]];
            const M = {};
            M[a0(0x178)] = p;
            const N = await Message_1[a0(0x1aa)][a0(0x17a)]({
                    'where': K,
                    'include': [
                        L,
                        {
                            'model': Message_1[a0(0x1aa)],
                            'as': s[Z(0x1bd)],
                            'include': [s[a0(0x1a7)]],
                            'where': M,
                            'required': ![]
                        }
                    ]
                }), O = {};
            return O[a0(0x195)] = N[a0(0x195)], O[Z(0x1bf)] = N, O;
        } catch (T) {
            throw new AppError_1[(Z(0x1aa))](s[a0(0x1b2)]);
        }
    };
exports[W(0x1aa)] = EditWhatsAppMessage;