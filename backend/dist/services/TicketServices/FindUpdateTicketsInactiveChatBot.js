'use strict';
const L = b, M = b;
(function (c, d) {
    const J = b, K = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(J(0x11d)) / (-0x8b1 + -0x3b * -0x8 + 0x6da) + -parseInt(K(0x16b)) / (-0x127f + 0x3ac + 0xed5) + parseInt(K(0xf1)) / (-0x2266 + 0x2034 + -0x235 * -0x1) * (parseInt(J(0x117)) / (0x2 * -0x88a + 0x1c * 0xbd + -0x394)) + parseInt(J(0x167)) / (0x21 * 0x2b + -0x1 * 0x25ac + -0x1013 * -0x2) * (parseInt(J(0x12e)) / (-0x21ff + 0x26dd + -0x4d8)) + -parseInt(J(0xcb)) / (0x3 * 0xb67 + -0xfe4 + -0x124a) + -parseInt(K(0x145)) / (-0x3 * -0xed + -0x2f * -0x51 + -0x2 * 0x8cf) * (-parseInt(K(0xe4)) / (-0x25a0 + 0x2582 + 0x3 * 0xd)) + parseInt(J(0x11e)) / (0xea9 + -0x199d + -0x6 * -0x1d5) * (parseInt(K(0x107)) / (-0x1f0 + 0x1 * -0x14e7 + 0x16e2));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0x4d9e9 + -0x79ad * 0x1 + 0x1c81 * 0x5e));
function a() {
    const S = [
        'defineProp',
        'egrationsI',
        'idFront',
        '\x20\x20\x20config-',
        '../Message',
        'warn',
        'id,\x0a\x20\x20\x20\x20\x20\x20',
        'reload',
        'ticket.\x20ID',
        'CEico',
        'vZaXh',
        'closed',
        't\x0a\x20\x20\x20\x20\x20\x20t.',
        '../../mode',
        'read',
        'include',
        'body',
        'ZQuIj',
        'JkXmm',
        'yLHII',
        'fault',
        'ations\x27->\x27',
        '2076872svRLJl',
        'QHJPG',
        'ntrados:',
        'sequelize',
        'integratio',
        'ype\x27\x20as\x20ty',
        'cf.\x22tenant',
        '\x27->\x27notRes',
        '\x20t\x0a\x20\x20\x20\x20inn',
        '\x20encontrad',
        'isFarewell',
        'do\x20para\x20o\x20',
        'aNQKb',
        'ticket\x20ID:',
        'bvaGd',
        '\x20null\x20and\x20',
        'nts(cf.flo',
        'pe_action,',
        'update',
        'HaLZm',
        'destiny',
        'dEqko',
        'pending',
        '\x0a\x20\x20\x20\x20selec',
        'TIMESTAMP\x20',
        '504pfwyrJ',
        'eMessage\x27-',
        'ding\x27\x0a\x20\x20\x20\x20',
        'eemGK',
        'ge\x27->\x27dest',
        'lastIntera',
        'er\x20join\x20\x22C',
        '__importDe',
        'ls/Ticket',
        'stiny,\x0a\x20\x20\x20',
        'rations\x27\x0a\x20',
        'iny\x27\x20as\x20de',
        'findByPk',
        '18627hDNqnP',
        'tenantId',
        'vhxTJ',
        'ueueId\x22\x20is',
        'fig->\x27conf',
        'igurations',
        't.\x22userId\x22',
        'onfig->\x27co',
        'rvice',
        'ate',
        'ResponseMe',
        'msg',
        'geSystemSe',
        'reateMessa',
        'eIruV',
        '=\x20\x27configu',
        'ral\x20json_a',
        'tus\x20=\x20\x27pen',
        'QueryTypes',
        'kuXpK',
        'type_actio',
        'YtwDW',
        '14861wPTHVS',
        '->>\x27type\x27\x20',
        'nfig\x0a\x20\x20\x20\x20w',
        'NFlDt',
        'icket:\x20',
        'status',
        'HarDv',
        'map',
        'gTicketSer',
        'ers/socket',
        'FumAq',
        'Contato\x20nã',
        'erty',
        'ocessar\x20o\x20',
        'NwbMJ',
        'hatFlow\x22\x20c',
        '4SYkLJF',
        'message',
        'ticket:upd',
        'ickets\x20ina',
        'KIEda',
        '__esModule',
        '154225wqajkb',
        '6440qyOOfu',
        'hatFlowId\x22',
        'yueLy',
        'wFyMn',
        '\x20do\x20ticket',
        'LbHuM',
        'all',
        'ujfsM',
        'tion',
        'Erro\x20ao\x20pr',
        'number',
        'XtrnE',
        'qXpCg',
        'onfigurati',
        '\x20\x22Tickets\x22',
        'YEVDw',
        '78XnDuIP',
        'l\x20message',
        'rray_eleme',
        'ticket',
        'Id\x22\x20and\x20cf',
        'ponseMessa',
        '\x20and\x20(t.\x22q',
        'me\x27,\x20\x27\x20MIN',
        'UbGbW',
        'query',
        'YOVrf',
        'Emit',
        'gsohl',
        '.id\x20=\x20t.\x22c',
        'TOlCW',
        'qPbMl',
        'st\x27)\x20as\x20co',
        'notRespons',
        './CreateLo',
        'log',
        'ctionBot\x22\x20',
        'Message',
        'RLJTs',
        '20408qHXTMx',
        'Ticket\x20não',
        'f\x20on\x20t.\x22te',
        'Erro\x20ao\x20cr',
        'type',
        'ons\x27->\x27not',
        'esponseMes',
        'hmFkv',
        '>\x27message\x27',
        'fromMe',
        'sage\x27->\x27ti',
        'useIntegra',
        'amkUi',
        'PfIrX',
        'payload',
        'error',
        'ns\x27->\x27notR',
        '\x20as\x20messag',
        'sendType',
        'Services/C',
        'default',
        'w->\x27nodeLi',
        'e\x0a\x20\x20\x20\x20from',
        'name',
        'pBZRd',
        'length',
        'pyIpB',
        'nantId\x22\x20=\x20',
        'TYbOg',
        'uuid',
        '../../help',
        '-\x20concat(c',
        'UTES\x27)::in',
        'nhVve',
        '32435dZkAfB',
        'contact',
        'tivos\x20enco',
        'No\x20farewel',
        '631358USYPjx',
        'SOOTT',
        'VCQHq',
        '>\x27configur',
        'DIoNI',
        'uhlSI',
        'iar\x20o\x20log\x20',
        '<\x20CURRENT_',
        'here\x20t.sta',
        'ers/GetInt',
        'ticketId',
        'and\x20config',
        '\x0a\x20\x20\x20\x20cross',
        'cAzcp',
        'vice',
        'eKpkl',
        'peLuN',
        'autoClose',
        'terval\x0a\x20\x20\x20',
        '\x20\x20\x20and\x20t.\x22',
        'Total\x20de\x20t',
        'o\x20encontra',
        '\x0a\x20\x20\x20\x20\x20\x20con',
        'nId',
        'queueId',
        'qWpdN',
        'userId',
        'AgQXw',
        '\x20is\x20null)\x0a',
        'config->\x27c',
        'value',
        'nfiguratio',
        'do\x20ticket:',
        'YLHOj',
        '\x20join\x20late',
        'ssage\x27->\x27t',
        'o.\x20ID\x20do\x20t',
        'yzwfp',
        'SELECT',
        'bot'
    ];
    a = function () {
        return S;
    };
    return a();
}
var __importDefault = this && this[L(0xeb) + L(0xc9)] || function (c) {
    const N = M;
    return c && c[N(0x11c)] ? c : { 'default': c };
};
const k = {};
k[M(0xab)] = !![], Object[L(0xb5) + M(0x113)](exports, L(0x11c), k);
const sequelize_1 = require(M(0xce)), Ticket_1 = __importDefault(require(L(0xc2) + L(0xec))), socketEmit_1 = __importDefault(require(M(0x163) + M(0x110) + M(0x139))), CreateLogTicketService_1 = __importDefault(require(M(0x140) + L(0x10f) + L(0x179))), CreateMessageSystemService_1 = __importDefault(require(M(0xb9) + L(0x158) + M(0xfe) + L(0xfd) + M(0xf9))), uuid_1 = require(L(0x162)), GetIntegrationsID_1 = __importDefault(require(L(0x163) + L(0x174) + M(0xb6) + 'D')), FindUpdateTicketsInactiveChatBot = async () => {
        const O = L, P = M, e = {};
        e[O(0x138)] = O(0x148) + O(0x171) + P(0xad), e[O(0x178)] = function (j, l) {
            return j != l;
        }, e[P(0x15f)] = function (j, l) {
            return j === l;
        }, e[O(0x17b)] = P(0x115), e[O(0x161)] = O(0x12d), e[P(0x16c)] = P(0x168), e[O(0xf3)] = P(0xae), e[O(0xc7)] = P(0xc8), e[P(0x13a)] = function (j, l) {
            return j == l;
        }, e[P(0x16d)] = function (j, l) {
            return j === l;
        }, e[O(0x125)] = P(0x136), e[P(0x16f)] = O(0xde), e[P(0x11b)] = O(0x128), e[O(0xa8)] = function (j, l) {
            return j !== l;
        }, e[O(0xc6)] = O(0xa6), e[P(0xe0)] = function (j, l) {
            return j === l;
        }, e[O(0x111)] = P(0x10a), e[O(0xcc)] = O(0x104), e[O(0xd9)] = function (j, l) {
            return j == l;
        }, e[P(0x120)] = function (j, l) {
            return j !== l;
        }, e[O(0xd7)] = P(0x170), e[P(0x14c)] = O(0xe7), e[O(0x12a)] = P(0xc0), e[P(0x13d)] = O(0x17c), e[P(0xff)] = O(0x16a) + O(0x12f), e[P(0x129)] = function (j, l) {
            return j !== l;
        }, e[P(0x17a)] = P(0xb2), e[O(0xbf)] = P(0x106), e[P(0x144)] = function (j, l) {
            return j === l;
        }, e[P(0x10d)] = P(0x151), e[O(0x123)] = P(0xb4), e[P(0x13c)] = P(0xe1), e[P(0x166)] = function (j, l) {
            return j === l;
        }, e[O(0x152)] = P(0x15d), e[O(0xbe)] = O(0x119) + P(0xfa), e[O(0x121)] = O(0x17f) + O(0x11a) + O(0x169) + P(0xcd);
        const f = e, g = O(0xe2) + O(0xc1) + P(0xbb) + P(0xaa) + P(0x12b) + P(0x14a) + P(0xfb) + O(0xb0) + O(0xd0) + P(0xdc) + O(0x181) + O(0xf5) + O(0xf6) + O(0xd2) + P(0x133) + O(0xe8) + O(0xef) + O(0xed) + O(0xb8) + O(0x16e) + P(0xca) + P(0x13f) + O(0xe5) + P(0x14d) + P(0x156) + O(0x15b) + O(0x12c) + P(0xd3) + P(0xea) + O(0x116) + O(0x147) + O(0x160) + O(0xd1) + O(0x132) + P(0x13b) + O(0x11f) + P(0x177) + P(0xaf) + P(0x101) + O(0x130) + O(0xdb) + O(0x15a) + O(0x13e) + P(0x109) + O(0x173) + O(0x102) + P(0xe6) + P(0x176) + O(0x108) + O(0x100) + P(0xee) + O(0x17e) + O(0xe9) + O(0x142) + P(0x172) + P(0xe3) + O(0x164) + O(0xf8) + O(0xac) + O(0x155) + O(0x14b) + O(0x14f) + P(0x135) + P(0x165) + P(0x17d) + P(0x134) + P(0xf4) + O(0xda) + O(0xf7) + O(0xa9) + '\x20\x20', h = {};
        h[P(0x149)] = sequelize_1[P(0x103)][P(0xb3)];
        const i = await Ticket_1[P(0x159)][O(0xce)]?.[O(0x137)](g, h);
        console[O(0x141)](f[O(0x121)], i[O(0x15e)]), await Promise[P(0x124)](i[P(0x10e)](async j => {
            const Q = O, R = P;
            try {
                if (!j[Q(0xdf)] && f[Q(0x178)](j[Q(0x105) + 'n'], -0xba1 + -0xf4e + 0x1af2)) {
                    if (f[Q(0x15f)](f[Q(0x17b)], f[R(0x161)]))
                        f[R(0x150) + R(0x126)] = !![], g[R(0xcf) + R(0x182)] = h;
                    else
                        return;
                }
                const l = {};
                l[R(0xc4)] = [f[R(0x16c)]];
                const m = await Ticket_1[Q(0x159)][R(0xf0)](j['id'], l);
                if (!m) {
                    if (f[R(0x15f)](f[R(0xf3)], f[R(0xc7)]))
                        return;
                    else {
                        console[Q(0xba)](R(0x146) + R(0xd4) + R(0xb1) + R(0x10b) + j['id']);
                        return;
                    }
                }
                const n = {
                    'chatFlowId': null,
                    'stepChatFlow': null,
                    'botRetries': 0x0,
                    'lastInteractionBot': new Date()
                };
                if (f[R(0x13a)](j[Q(0x105) + 'n'], -0x151f * 0x1 + -0x1 * 0x26f5 + 0x3 * 0x1407)) {
                    if (f[Q(0x16d)](f[Q(0x125)], f[Q(0x16f)]))
                        f[Q(0x154)](R(0x127) + Q(0x114) + Q(0xd8) + '\x20' + g['id'], h);
                    else {
                        n[R(0xa5)] = j[Q(0xdf)];
                        const s = await (-0x14 * -0x1f + -0x266b + 0x23ff, GetIntegrationsID_1[Q(0x159)])(j[R(0xdf)]);
                        if (f[R(0x15f)](typeof s, f[R(0x11b)])) {
                            if (f[Q(0xa8)](f[Q(0xc6)], f[Q(0xc6)])) {
                                l[Q(0xba)](R(0x146) + Q(0xd4) + R(0xb1) + Q(0x10b) + f['id']);
                                return;
                            } else
                                n[R(0x150) + R(0x126)] = !![], n[Q(0xcf) + Q(0x182)] = s;
                        } else
                            f[Q(0xe0)](f[R(0x111)], f[R(0xcc)]) ? (l[R(0x150) + Q(0x126)] = ![], f[R(0xcf) + R(0x182)] = null) : (n[Q(0x150) + R(0x126)] = ![], n[R(0xcf) + Q(0x182)] = null);
                    }
                }
                f[R(0xd9)](j[Q(0x105) + 'n'], -0x5d5 * 0x1 + 0x1cb6 + -0x493 * 0x5) && (f[Q(0x120)](f[Q(0xd7)], f[Q(0x14c)]) ? n[R(0xa7)] = j[R(0xdf)] : l[Q(0xba)](Q(0x112) + Q(0x180) + Q(0xd6) + Q(0xbd) + R(0x122) + ':\x20' + f['id']));
                if (f[R(0xd9)](j[R(0x105) + 'n'], 0xfbb * 0x2 + 0x1e80 + 0x3df3 * -0x1)) {
                    n[Q(0xd5) + Q(0x143)] = !![], n[R(0x10c)] = f[R(0x12a)];
                    const w = {};
                    w[R(0x175)] = j['id'], w[R(0x149)] = f[R(0x13d)], w[R(0x118)] = j[Q(0x118)] || f[Q(0xff)];
                    const x = w;
                    try {
                        if (f[Q(0x129)](f[R(0x17a)], f[R(0xbf)]))
                            await (0x1937 + 0x1 * 0x26cb + -0x4002 * 0x1, CreateLogTicketService_1[R(0x159)])(x);
                        else {
                            const z = {};
                            return z[R(0x159)] = j, z && h[R(0x11c)] ? o : z;
                        }
                    } catch (z) {
                        f[Q(0x144)](f[Q(0x10d)], f[Q(0x10d)]) ? console[Q(0x154)](f[Q(0x138)], z) : l[R(0x154)](f[Q(0x138)], w);
                    }
                    if (j[R(0x118)]) {
                        const B = j[Q(0x118)], C = {};
                        C[R(0xc5)] = B, C[Q(0x14e)] = !![], C[R(0xc3)] = !![], C[R(0x157)] = f[Q(0x123)];
                        const D = C, E = (0x1 * -0x34a + -0x1d39 + -0xcb * -0x29, uuid_1['v4'])(), F = {};
                        F[R(0xfc)] = D, F[Q(0xf2)] = m[R(0xf2)], F[Q(0x131)] = m, F[Q(0x157)] = D[Q(0x157)], F[R(0x10c)] = f[R(0x13c)], F[R(0xb7)] = E;
                        const G = F;
                        m[Q(0x168)] && m[R(0x168)][R(0x15c)] ? f[R(0x166)](f[Q(0x152)], f[Q(0x152)]) ? await (-0x179a + 0x15c + 0x163e, CreateMessageSystemService_1[R(0x159)])(G) : l[Q(0xa7)] = w[Q(0xdf)] : console[R(0xba)](R(0x112) + R(0x180) + R(0xd6) + R(0xbd) + Q(0x122) + ':\x20' + m['id']);
                    }
                }
                await m[R(0xdd)](n), await m[Q(0xbc)]();
                const o = {};
                o[R(0xf2)] = m[R(0xf2)], o[Q(0x149)] = f[R(0xbe)], o[Q(0x153)] = m, (-0x2b6 + -0x3 * -0xc73 + -0x22a3, socketEmit_1[R(0x159)])(o);
            } catch (I) {
                console[Q(0x154)](R(0x127) + R(0x114) + Q(0xd8) + '\x20' + j['id'], I);
            }
        }));
    };
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (-0xedd + -0x16ca + 0x264c);
        let h = e[f];
        return h;
    }, b(c, d);
}
exports[L(0x159)] = FindUpdateTicketsInactiveChatBot;