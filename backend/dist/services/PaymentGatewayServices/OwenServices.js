'use strict';
const G = b, H = b;
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x2e3 * 0x1 + -0x251b * 0x1 + 0x22ad);
        let h = e[f];
        return h;
    }, b(c, d);
}
(function (c, d) {
    const E = b, F = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(E(0x101)) / (0x872 + 0xdc9 * -0x1 + -0x2ac * -0x2) * (parseInt(F(0x8b)) / (0x2a7 + -0x1 * -0x3f9 + -0xe * 0x79)) + -parseInt(F(0xb6)) / (-0x63 * -0x4b + 0x1bff + -0x38fd * 0x1) * (parseInt(E(0xe7)) / (0x2b * 0x2b + 0xae * 0x21 + -0x1da3)) + -parseInt(E(0xfa)) / (-0x5 * -0x78c + 0x14d5 * -0x1 + -0x10e2) * (-parseInt(E(0x11e)) / (-0x1d * 0x56 + 0xd32 * -0x2 + 0xd * 0x2c8)) + -parseInt(E(0xf8)) / (0x1 * -0x1aab + 0x5f5 + 0x14bd) + parseInt(F(0x7f)) / (-0x35b * -0x3 + -0xc65 + 0x25c) + -parseInt(E(0xb2)) / (0x99 * -0x36 + 0x1cb3 + -0x3 * -0x134) + parseInt(F(0xad)) / (-0x1572 + -0x2 * 0xf90 + 0x349c);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0x2b3d + -0x1 * -0xeaa7f + -0x6ee4f));
var __importDefault = this && this[G(0xa2) + G(0xcc)] || function (c) {
    const I = G;
    return c && c[I(0xf9)] ? c : { 'default': c };
};
const k = {};
function a() {
    const X = [
        'tatus',
        'VUcvY',
        'EBelT',
        'TaCFY',
        'TAXUQ',
        '6580430eTAvts',
        'DoWeJ',
        'YmTws',
        'QvGHP',
        'open',
        '2542086RLbYIo',
        'owenPollCh',
        '../../help',
        'eckStatus:',
        '4692YKqgxO',
        'paid',
        'm\x20o\x20suport',
        'getDate',
        'kSIyM',
        'update',
        'PUxyr',
        'CVxSI',
        'ettingsGen',
        'PflKG',
        'x.owenbras',
        'dueDate',
        'axios',
        'qrcode',
        'ices',
        'value',
        '../../mode',
        'DEzUN',
        'lfTOp',
        'logger',
        'nKrtv',
        'getIO',
        'fault',
        'https://pi',
        'tenantId',
        'toISOStrin',
        'sender',
        'tyHzq',
        'super',
        '#Fatura:',
        'ing\x20detail',
        'wOyMr',
        'zyGJq',
        '\x20Invoice\x20',
        'ZEEHM',
        'status',
        'tenant',
        'ers/CheckS',
        'params',
        'FWslX',
        'il.com.br',
        'qrcodeId',
        'VHTwM',
        '-mainchann',
        'dinamico',
        'ytQOK',
        'ApKmw',
        'PfQZy',
        'ZfOMT',
        '1252cPVMMH',
        'json',
        'reload',
        'defineProp',
        'pzpfz',
        'body',
        'split',
        'AOeeA',
        'SwszU',
        'CONCLUIDA',
        'YeAOd',
        'default',
        'hhoIV',
        'emit',
        '../../util',
        'LMfLG',
        'owen',
        '2522982pesabY',
        '__esModule',
        '5DBewhD',
        'owenSecret',
        'model',
        'tVzeN',
        's/logger',
        'stringify',
        'owenCnpj',
        '166cQfrKg',
        'ljQyW',
        '\x20entre\x20em\x20',
        'valor',
        'setDate',
        'ncontrado,',
        'ls/Invoice',
        'UAbAv',
        'on\x20error:\x20',
        'VujVx',
        'Invoice\x20no',
        'owenCreate',
        'Wqijc',
        't\x20found',
        'Problema\x20e',
        'FCsNm',
        'where',
        'oiceExpire',
        'iyFew',
        'aIIXu',
        'contato\x20co',
        'XsJLg',
        'nELuC',
        'toFixed',
        '/socket',
        'findByPk',
        'GqYsk',
        'gcmiW',
        'rEbUe',
        '3676848tDlLsK',
        'Gjupx',
        'wszhM',
        'ls/Tenant',
        'include',
        'hgqmC',
        'xibOj',
        './PaymentG',
        'aid,\x20finis',
        'APPROVED',
        'Key',
        'EFUKF',
        'owenWebhoo',
        'VGvcQ',
        'okgZX',
        'hing\x20polli',
        'WdbYI',
        '-payment',
        'original',
        'owenToken',
        'owenCheckS',
        'eral',
        '1025392fGZPKq',
        'AsKhY',
        'Kqpen',
        'iBIaz',
        'InkIg',
        'OsPvF',
        '../../erro',
        'atZGM',
        'Subscripti',
        'debug',
        'gkdMR',
        'HlpmF',
        '2762Zlhktl',
        'error',
        'Error\x20gett',
        'bKPBX',
        'pjtwT',
        'GKjSV',
        'iRKJx',
        'TYNeH',
        'txId',
        '\x20already\x20p',
        '/api/v1/qr',
        'sImXS',
        'data',
        '../../libs',
        'DbMgH',
        'tenant-',
        '\x20of\x20txid',
        'rs/AppErro',
        'oicePaid',
        'get',
        'DOKQt',
        'findOne',
        'yKoyn',
        '__importDe',
        'processInv',
        'erty',
        'QBkrJ',
        'atewayServ',
        'xfHJZ'
    ];
    a = function () {
        return X;
    };
    return a();
}
k[G(0xc5)] = !![], Object[G(0xea) + G(0xa4)](exports, H(0xf9), k), exports[G(0x10c) + G(0x87) + 'on'] = exports[H(0x7d) + H(0xa8)] = exports[H(0x75) + 'k'] = void (-0x1e30 + 0x178c + 0x6a4);
const axios_1 = __importDefault(require(G(0xc2))), CheckSettingsGeneral_1 = __importDefault(require(G(0xb4) + G(0xdb) + H(0xbe) + H(0x7e))), logger_1 = require(G(0xf5) + G(0xfe)), socket_1 = require(G(0x98) + G(0x119)), Invoices_1 = __importDefault(require(H(0xc6) + H(0x107) + 's')), Tenant_1 = __importDefault(require(G(0xc6) + H(0x121))), AppError_1 = __importDefault(require(G(0x85) + G(0x9c) + 'r')), PaymentGatewayServices_1 = require(H(0x125) + H(0xa6) + G(0xc4)), owenBaseURL = H(0xcd) + G(0xc0) + H(0xde), owenLoadConfig = async () => {
        const J = H, K = G, d = {};
        d[J(0xd1)] = K(0x100), d[K(0x113)] = J(0x7c), d[K(0x120)] = J(0xfb) + J(0x128);
        const e = d;
        return {
            'user': await (-0x1e61 + -0x1f06 + 0x3d67, CheckSettingsGeneral_1[J(0xf2)])(e[J(0xd1)]),
            'password': await (0x1fe + 0x1 * 0x2523 + 0xd0b * -0x3, CheckSettingsGeneral_1[J(0xf2)])(e[K(0x113)]),
            'secretkey': await (0xb6e + -0x76d + 0x1 * -0x401, CheckSettingsGeneral_1[K(0xf2)])(e[K(0x120)])
        };
    }, owenWebhook = async (l, m) => {
        const L = H, M = G, n = {};
        n[L(0x91)] = M(0x10f) + M(0x106) + L(0x103) + M(0x115) + M(0xb8) + 'e!', n[L(0xf3)] = M(0x8d) + M(0xd4) + L(0x9b), n[M(0xd5)] = function (r, s) {
            return r === s;
        }, n[M(0x77)] = M(0x127), n[L(0xae)] = function (r, s) {
            return r === s;
        }, n[L(0x110)] = M(0x11c), n[M(0xbf)] = M(0xb1), n[L(0xdd)] = L(0xda), n[M(0xe4)] = function (r, s) {
            return r < s;
        }, n[M(0x8f)] = L(0x114), n[M(0x102)] = function (r, s) {
            return r + s;
        }, n[M(0xa5)] = L(0xb7), n[M(0xab)] = L(0xd2), n[L(0xf1)] = L(0xf0);
        const o = n, {data: p} = l[L(0xec)];
        if (o[M(0xd5)](p[L(0xd9)], o[M(0x77)])) {
            if (o[M(0xae)](o[L(0x110)], o[L(0x110)])) {
                const {qrcodeId: r} = p, s = {};
                s[M(0x93)] = r, s[M(0xd9)] = o[M(0xbf)];
                const t = {};
                t[L(0xfc)] = Tenant_1[M(0xf2)], t['as'] = o[M(0xdd)];
                const u = {};
                u[M(0x111)] = s, u[L(0x122)] = [t];
                const v = await Invoices_1[L(0xf2)][M(0xa0)](u);
                if (!v || o[M(0xe4)](p[L(0x104)], v[M(0xc5)])) {
                    if (o[M(0xae)](o[M(0x8f)], o[L(0x8f)])) {
                        const B = {};
                        return B['ok'] = !![], m[L(0xe8)](B);
                    } else {
                        u[M(0xc9)][M(0x8c)](L(0x10c) + M(0x87) + M(0x109) + g);
                        throw new y[(L(0xf2))](o[M(0x91)], -0x1ea + 0xb9 * -0x35 + 0x29c7);
                    }
                }
                const w = new Date(v[M(0xda)][L(0xc1)]);
                w[L(0x105)](o[M(0x102)](w[L(0xb9)](), -0x1001 * 0x1 + -0x35 * 0xbc + 0x7dd * 0x7));
                const x = w[L(0xcf) + 'g']()[L(0xed)]('T')[-0xee3 + -0xd48 + -0x1c2b * -0x1], y = {};
                y[L(0xc1)] = x, await v[L(0xda)][M(0xbb)](y);
                const z = {};
                z[L(0xd9)] = o[M(0xa5)], await v[M(0xbb)](z), await v[M(0xda)][M(0xe9)]();
                const A = (0x1f3 * 0x11 + 0xa3a + -0x11 * 0x28d, socket_1[L(0xcb)])();
                A['to'](M(0x9a) + v[L(0xce)] + (L(0xe1) + 'el'))['to'](o[L(0xab)])[M(0xf4)](L(0x9a) + v[L(0xce)] + L(0x7a), {
                    'action': o[M(0xf1)],
                    'tenant': v[M(0xda)],
                    'invoiceId': v['id']
                });
            } else
                e[M(0xc9)][L(0x8c)](f, o[M(0xf3)]);
        }
        const q = {};
        return q['ok'] = !![], m[M(0xe8)](q);
    };
exports[H(0x75) + 'k'] = owenWebhook;
const owenCheckStatus = async (e, f = null) => {
    const N = G, O = H, g = {
            'GKjSV': N(0x10b) + O(0x10e),
            'EBelT': function (h, i, j) {
                return h(i, j);
            },
            'pzpfz': function (h, i) {
                return h === i;
            },
            'HlpmF': N(0x9f),
            'Gjupx': O(0xe5),
            'VHTwM': N(0x92),
            'xfHJZ': function (h) {
                return h();
            },
            'Kqpen': function (h, i) {
                return h !== i;
            },
            'DEzUN': N(0x127),
            'iBIaz': N(0xbc),
            'UAbAv': N(0x84),
            'VUcvY': function (h, i) {
                return h >= i;
            },
            'nKrtv': function (h, i) {
                return h === i;
            },
            'DbMgH': O(0x10d),
            'ytQOK': O(0x80),
            'gkdMR': function (h, i) {
                return h === i;
            },
            'hgqmC': N(0xee),
            'kSIyM': N(0x129),
            'atZGM': N(0x8d) + N(0xd4) + N(0x9b)
        };
    try {
        if (g[O(0xeb)](g[O(0x8a)], g[N(0x8a)])) {
            if (!f) {
                if (g[O(0xeb)](g[N(0x11f)], g[N(0xe0)]))
                    throw new i(g[O(0x90)]);
                else
                    f = await g[O(0xa7)](owenLoadConfig);
            }
            const h = {
                    'qrcodeId': e[O(0x93)],
                    ...f
                }, i = {};
            i[O(0xdc)] = h;
            const j = await axios_1[N(0xf2)][O(0x9e)](owenBaseURL + (N(0x95) + N(0xd9)), i);
            if (g[O(0x81)](j?.[N(0x97)]?.[O(0x97)]?.[O(0xd9)], g[N(0xc7)])) {
                if (g[O(0x81)](g[N(0x82)], g[O(0x108)]))
                    return ![];
                else {
                    const n = {};
                    return n['ok'] = !![], i[O(0xe8)](n);
                }
            }
            if (g[O(0xa9)](j?.[O(0x97)]?.[N(0x97)]?.[N(0xd0)]?.[O(0x104)], e[N(0xc5)])) {
                if (g[O(0xca)](g[N(0x99)], g[N(0xe3)]))
                    g[N(0xaa)](f, g, h);
                else
                    return await (-0x16c4 + -0x1 * 0x2691 + 0x7 * 0x8c3, PaymentGatewayServices_1[N(0xa3) + N(0x9d)])(e), !![];
            }
            return ![];
        } else {
            e[N(0xc9)][O(0x88)](N(0xb3) + N(0xb5) + O(0xd7) + f['id'] + (O(0x94) + N(0x126) + N(0x78) + 'ng'));
            return;
        }
    } catch (p) {
        if (g[O(0x89)](g[N(0x123)], g[O(0xba)]))
            return ![];
        else
            logger_1[N(0xc9)][N(0x8c)](p, g[N(0x86)]);
    }
    return ![];
};
exports[G(0x7d) + H(0xa8)] = owenCheckStatus;
const owenPollCheckStatus = async (c, d, e = -0x52c * -0x7 + 0x1 * -0x20d6 + 0x3 * -0x11c, f = -0x7ac6 + 0x3984 + 0xb672) => {
        const P = G, Q = H, g = {
                'ZEEHM': function (j, l, m) {
                    return j(l, m);
                },
                'rEbUe': function (j, l) {
                    return j === l;
                },
                'zyGJq': P(0xb7),
                'ZfOMT': Q(0x8e),
                'VujVx': function (j, l) {
                    return j === l;
                },
                'TAXUQ': Q(0x83),
                'YmTws': P(0xef),
                'lfTOp': function (j, l) {
                    return j >= l;
                },
                'QvGHP': function (j, l) {
                    return j === l;
                },
                'WdbYI': Q(0x11b),
                'VGvcQ': Q(0xa1),
                'LMfLG': function (j) {
                    return j();
                }
            };
        let h = 0x5 * 0x127 + 0x1af * -0x2 + -0x265;
        async function i() {
            const S = Q, T = Q, j = {
                    'XsJLg': function (m, n, o) {
                        const R = b;
                        return g[R(0xd8)](m, n, o);
                    }
                };
            await d[S(0xe9)]();
            if (g[S(0x11d)](d[T(0xd9)], g[T(0xd6)])) {
                if (g[T(0x11d)](g[T(0xe6)], g[S(0xe6)])) {
                    logger_1[S(0xc9)][S(0x88)](S(0xb3) + T(0xb5) + S(0xd7) + d['id'] + (T(0x94) + S(0x126) + T(0x78) + 'ng'));
                    return;
                } else {
                    const n = {};
                    return n[S(0xf2)] = j, g && h[T(0xf9)] ? i : n;
                }
            }
            const l = await (-0x134d + -0x1 * 0xa67 + 0x4 * 0x76d, exports[S(0x7d) + T(0xa8)])(d, c);
            if (l) {
                if (g[T(0x10a)](g[S(0xac)], g[T(0xaf)])) {
                    (0x1564 + -0x55 * -0x41 + 0x13 * -0x243, e[S(0xa3) + T(0x112) + 'd'])(f);
                    return;
                } else
                    return;
            }
            h += 0x725 * 0x4 + 0x1 * 0x1855 + -0x1 * 0x34e8;
            if (g[T(0xc8)](h, e)) {
                if (g[T(0xb0)](g[T(0x79)], g[S(0x76)]))
                    return;
                else {
                    (-0x9d * 0x15 + 0x18e5 + -0xc04, PaymentGatewayServices_1[T(0xa3) + T(0x112) + 'd'])(d);
                    return;
                }
            }
            await new Promise(p => {
                const U = S;
                j[U(0x116)](setTimeout, p, f);
            }), await g[T(0xf6)](i);
        }
        return g[P(0xf6)](i);
    }, owenCreateSubscription = async (f, g) => {
        const V = H, W = H, h = {
                'sImXS': function (n) {
                    return n();
                },
                'CVxSI': V(0x10b) + W(0x10e),
                'tVzeN': W(0xf7),
                'xibOj': function (n, o, p) {
                    return n(o, p);
                },
                'nELuC': V(0x10f) + V(0x106) + W(0x103) + W(0x115) + W(0xb8) + 'e!'
            }, {
                price: i,
                invoiceId: j
            } = f[W(0xec)], l = await h[V(0x96)](owenLoadConfig), m = {
                'params': {
                    'valor': i[W(0x118)]([0x837 + 0xcb3 * -0x1 + 0x47e]),
                    'minutos': 0x5,
                    'mensagem': W(0xd3) + j,
                    ...l
                }
            };
        try {
            const n = await Invoices_1[V(0xf2)][W(0x11a)](j);
            if (!n)
                throw new Error(h[V(0xbd)]);
            const o = await axios_1[W(0xf2)][V(0x9e)](owenBaseURL + (V(0x95) + W(0xe2)), m);
            n[V(0xbb)]({
                'value': i,
                'txId': o[V(0x97)][V(0x97)][V(0xdf)],
                'payGw': h[V(0xfd)],
                'payGwData': JSON[W(0xff)](o[W(0x97)][V(0x97)])
            }), h[W(0x124)](owenPollCheckStatus, l, n);
            const p = {};
            p[W(0xc3)] = o[V(0x97)][V(0x97)][W(0xc3)];
            const q = {};
            q[V(0x7b)] = i;
            const r = {};
            return r[W(0xc3)] = p, r[W(0x104)] = q, g[W(0xe8)](r);
        } catch (s) {
            logger_1[V(0xc9)][W(0x8c)](V(0x10c) + V(0x87) + V(0x109) + s);
            throw new AppError_1[(V(0xf2))](h[V(0x117)], -0x7 * -0x175 + -0x26e8 + -0x453 * -0x7);
        }
    };
exports[G(0x10c) + H(0x87) + 'on'] = owenCreateSubscription;