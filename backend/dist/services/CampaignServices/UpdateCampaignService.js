'use strict';
const G = b, H = b;
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (-0xab7 * -0x3 + -0x28c * 0x8 + 0x9da * -0x1);
        let h = e[f];
        return h;
    }, b(c, d);
}
(function (c, d) {
    const E = b, F = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(E(0x1f0)) / (0x1 * -0xaa1 + 0x25 * 0x1 + 0xf * 0xb3) * (parseInt(E(0x23e)) / (-0x67b + 0x12fe + -0xc81)) + parseInt(E(0x22d)) / (0x75 * 0x49 + -0x32 * 0x59 + -0x1ff * 0x8) + parseInt(E(0x230)) / (-0xd * -0x4a + 0x27f + -0x63d) * (parseInt(F(0x1f4)) / (0x1510 + -0x138d + -0x1 * 0x17e)) + -parseInt(E(0x1f5)) / (-0x145c + -0x1409 + 0x286b * 0x1) * (-parseInt(F(0x23c)) / (-0x6a3 + -0x2072 + 0x271c)) + -parseInt(F(0x227)) / (-0xce5 + 0xe * -0x2a5 + 0x31f3) * (-parseInt(E(0x1fb)) / (-0x2 * -0xc01 + 0xed * 0x14 + -0x2a7d)) + parseInt(E(0x239)) / (0x3 * 0x65b + -0x283 + -0x1084) * (parseInt(F(0x1f8)) / (-0x14f6 + -0x7b + 0x157c)) + -parseInt(E(0x232)) / (0x232f + 0x1c0e + -0x3f31);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0x56c0 + 0x6087f * -0x1 + 0xa3917));
var __importDefault = this && this[G(0x200) + G(0x213)] || function (c) {
    const I = G;
    return c && c[I(0x206)] ? c : { 'default': c };
};
const D = {};
function a() {
    const P = [
        '617630VdmaOQ',
        '12AHKKEh',
        'QdFOq',
        'map',
        '143xOfckO',
        'canceled',
        'reload',
        '2486322fFxXVF',
        'substr',
        'bcxZK',
        'defineProp',
        'mwaVY',
        '__importDe',
        'KIoVf',
        'wMtah',
        'rs/AppErro',
        'fDHqe',
        'ADdAx',
        '__esModule',
        'ls/Campaig',
        'CANCELED_P',
        'bPCsd',
        'kCnnO',
        'IUhFA',
        'update',
        'value',
        'split',
        'sutht',
        '../../util',
        'mimetype',
        'VygRs',
        'fault',
        'ZyDIL',
        'CmjZg',
        'pending',
        'zXkXl',
        'filename',
        'GN_NOT_IN_',
        'wUuVY',
        'SbWQq',
        'status',
        'UbYvW',
        'YoOsz',
        '../../erro',
        'aMZBZ',
        'FcDHL',
        'all',
        'sjbNn',
        'RXXZX',
        'null',
        '../../mode',
        '8MObnls',
        'wRQHw',
        'Paibg',
        'mediaType',
        'kKpxD',
        'Txsnt',
        '943155HhAxHK',
        'WnEfA',
        'getTime',
        '4OwrLql',
        'start',
        '10942008MCCiCa',
        'mediaUrl',
        'error',
        'TlqLS',
        'ATE_CAMPAI',
        'bQfDX',
        'PAIGN_FOUN',
        '49660fZTvyQ',
        'TeUDN',
        'erty',
        '760606pKZxhi',
        'ewPYP',
        '422TxCqxL',
        'lHdMp',
        'fSDUz',
        'yNAAI',
        'vQZDi',
        'OLbYf',
        'NMYVC',
        'where',
        'logger',
        'isArray',
        'ERR_NO_UPD',
        'twHKI',
        'YLkZo',
        'indexOf',
        'uaZzg',
        's/logger',
        'AZhLz',
        'ENDING',
        'tenantId',
        'findOne',
        '797YVhGXy',
        'default',
        'length',
        'ERR_NO_CAM'
    ];
    a = function () {
        return P;
    };
    return a();
}
D[G(0x20d)] = !![], Object[G(0x1fe) + G(0x23b)](exports, H(0x206), D);
const AppError_1 = __importDefault(require(G(0x21f) + G(0x203) + 'r')), Campaign_1 = __importDefault(require(H(0x226) + H(0x207) + 'n')), logger_1 = require(G(0x210) + G(0x1eb)), cArquivoName = d => {
        const J = H, K = G, e = {};
        e[J(0x1ff)] = function (i, j) {
            return i - j;
        };
        const f = e;
        if (!d)
            return '';
        const g = d[J(0x20e)]('/'), h = g[f[K(0x1ff)](g[K(0x1f2)], -0x2200 * 0x1 + 0xb * -0x2a6 + 0x3f23)];
        return h;
    }, UpdateCampaignService = async ({
        campaignData: f,
        medias: g,
        campaignId: h,
        tenantId: i
    }) => {
        const L = G, M = H, j = {
                'VygRs': L(0x1f3) + M(0x238) + 'D',
                'aMZBZ': function (p, q) {
                    return p - q;
                },
                'vQZDi': L(0x248) + L(0x236) + M(0x219) + L(0x208) + L(0x1ed),
                'wRQHw': function (p, q) {
                    return p !== q;
                },
                'wUuVY': M(0x237),
                'CmjZg': L(0x244),
                'ADdAx': function (p, q) {
                    return p !== q;
                },
                'Paibg': L(0x23d),
                'SbWQq': M(0x20f),
                'UbYvW': function (p, q) {
                    return p !== q;
                },
                'OLbYf': L(0x201),
                'TlqLS': L(0x22c),
                'zXkXl': function (p, q) {
                    return p(q);
                },
                'ZyDIL': function (p, q) {
                    return p !== q;
                },
                'QdFOq': L(0x216),
                'TeUDN': M(0x1f9),
                'kKpxD': function (p, q) {
                    return p === q;
                },
                'kCnnO': M(0x224),
                'bPCsd': M(0x202),
                'twHKI': L(0x24a),
                'yNAAI': M(0x1fd),
                'IUhFA': function (p, q) {
                    return p === q;
                },
                'sjbNn': M(0x225),
                'lHdMp': function (p, q) {
                    return p !== q;
                },
                'FcDHL': L(0x24c),
                'YoOsz': M(0x204),
                'AZhLz': L(0x240)
            };
        let k, l = {
                ...f,
                'mediaUrl': j[L(0x217)](cArquivoName, f[L(0x233)]),
                'start': f[M(0x231)]
            };
        const m = {};
        m['id'] = h, m[L(0x1ee)] = i;
        const n = {};
        n[M(0x245)] = m;
        const o = await Campaign_1[M(0x1f1)][M(0x1ef)](n);
        if (j[M(0x214)](o?.[L(0x21c)], j[M(0x1f6)]) && j[M(0x205)](o?.[L(0x21c)], j[M(0x23a)])) {
            if (j[M(0x22b)](j[L(0x20a)], j[L(0x209)]))
                throw new n[(L(0x1f1))](j[L(0x212)], 0x1ef + -0x83b * 0x1 + -0x70 * -0x12);
            else
                throw new AppError_1[(M(0x1f1))](j[M(0x242)], 0x117f + 0x8 * 0x1c9 + 0x35b * -0x9);
        }
        if (g && Array[M(0x247)](g) && g[L(0x1f2)]) {
            if (j[L(0x214)](j[M(0x249)], j[M(0x241)]))
                await Promise[M(0x222)](g[M(0x1f7)](async q => {
                    const N = L, O = M, r = {};
                    r[N(0x22e)] = j[N(0x242)];
                    const s = r;
                    if (j[O(0x228)](j[O(0x21a)], j[N(0x215)]))
                        try {
                            if (j[N(0x205)](j[N(0x229)], j[O(0x229)])) {
                                const u = {};
                                return u[N(0x1f1)] = j, g && h[N(0x206)] ? i : u;
                            } else {
                                if (!q[O(0x218)]) {
                                    if (j[O(0x228)](j[N(0x21b)], j[N(0x21b)]))
                                        throw new n[(N(0x1f1))](s[N(0x22e)], -0x4 * 0x194 + 0x689 * -0x4 + 0xf2 * 0x24);
                                    else {
                                        const v = q[N(0x211)][N(0x20e)]('/')[0xb5 * 0x2b + 0x2089 + -0x3eef][O(0x20e)](';')[0x187c + -0x1423 + -0x459];
                                        q[O(0x218)] = new Date()[N(0x22f)]() + '.' + v;
                                    }
                                }
                                k = q;
                            }
                        } catch (w) {
                            if (j[O(0x21d)](j[O(0x243)], j[N(0x235)]))
                                logger_1[N(0x246)][O(0x234)](w);
                            else {
                                if (!i[O(0x218)]) {
                                    const y = o[O(0x211)][O(0x20e)]('/')[0x609 + -0x1135 + 0x1 * 0xb2d][N(0x20e)](';')[0x17f0 + -0x20 * -0x12c + -0x3d70];
                                    p[O(0x218)] = new q()[N(0x22f)]() + '.' + y;
                                }
                                m = n;
                            }
                        }
                    else {
                        if (!r)
                            return '';
                        const z = f[N(0x20e)]('/'), A = z[j[N(0x220)](z[N(0x1f2)], -0x97 + 0x117c * -0x1 + 0xb2 * 0x1a)];
                        return A;
                    }
                })), l = {
                    ...f,
                    'mediaUrl': k?.[L(0x218)],
                    'mediaType': k?.[M(0x211)][M(0x1fc)](0x1f7b + -0xa30 + 0x45 * -0x4f, k[L(0x211)][M(0x24b)]('/'))
                };
            else
                try {
                    if (!q[M(0x218)]) {
                        const r = w[M(0x211)][M(0x20e)]('/')[0x2238 + 0x243e + -0x4675][L(0x20e)](';')[-0xbb7 + -0x1fc * 0xb + -0x115 * -0x1f];
                        x[M(0x218)] = new y()[M(0x22f)]() + '.' + r;
                    }
                    u = v;
                } catch (s) {
                    A[M(0x246)][M(0x234)](s);
                }
        } else {
            if (j[L(0x20b)](f[M(0x233)], j[M(0x223)])) {
                if (j[L(0x23f)](j[L(0x221)], j[L(0x21e)])) {
                    const r = { ...f };
                    r[L(0x233)] = '', r[M(0x22a)] = '', l = r;
                } else
                    e[M(0x246)][M(0x234)](f);
            }
        }
        if (!o) {
            if (j[M(0x20b)](j[M(0x1ec)], j[M(0x1ec)]))
                throw new AppError_1[(M(0x1f1))](j[L(0x212)], 0x1681 + -0x158b + 0x9e);
            else {
                const u = f[L(0x211)][M(0x20e)]('/')[-0x86 * 0x20 + -0x13ca + 0x248b * 0x1][L(0x20e)](';')[0xbf7 + -0x3 * -0xc85 + -0x6 * 0x841];
                g[L(0x218)] = new h()[L(0x22f)]() + '.' + u;
            }
        }
        return await o[L(0x20c)](l), await o[M(0x1fa)](), o;
    };
exports[G(0x1f1)] = UpdateCampaignService;