'use strict';
const C = b, D = b;
(function (c, d) {
    const A = b, B = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(A(0xef)) / (-0x53 * 0x36 + -0x11af + 0x2332) + -parseInt(A(0x13a)) / (0xeb5 + 0x113a + -0x1fed) + -parseInt(B(0x118)) / (0xc22 + -0x1738 * 0x1 + 0xb19) + parseInt(B(0x12a)) / (0x1 * 0x3e5 + -0x1 * 0x8b5 + -0x2 * -0x26a) + parseInt(B(0x172)) / (-0x3 * -0x303 + -0x19c1 + 0x10bd * 0x1) * (-parseInt(B(0x161)) / (0x2573 + -0xe42 + 0x1 * -0x172b)) + parseInt(B(0x17a)) / (-0x4 * 0x525 + -0x52 * 0x35 + 0x2595) + parseInt(B(0x16e)) / (-0x83 + -0xa61 * -0x2 + -0x1437);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0x7 * 0x2cf0f + -0x1 * 0x19ff2 + 0xb269 * -0x4));
var __importDefault = this && this[C(0xf0) + C(0x164)] || function (c) {
    const E = C;
    return c && c[E(0x178)] ? c : { 'default': c };
};
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (-0x7 * 0x198 + -0x1 * -0x1b41 + -0x1 * 0xf2d);
        let h = e[f];
        return h;
    }, b(c, d);
}
const k = {};
k[C(0x133)] = !![], Object[D(0xee) + C(0x11e)](exports, C(0x178), k);
function a() {
    const U = [
        '6967518mbkMlw',
        'rVerifyCon',
        'fallback',
        'fault',
        'gQzJF',
        'ages',
        'WXGDZ',
        'read',
        'messaging',
        'file',
        'kaWVJ',
        'IqWfh',
        'isFarewell',
        '30640648CTGQHk',
        'yyvOp',
        'wServices/',
        'type',
        '5QYYLJH',
        'ice',
        'hGwYY',
        'fbPageId',
        'AkYjV',
        'FqBTL',
        '__esModule',
        'messenger',
        '11185349iRtcyM',
        'WRYWg',
        's/logger',
        'defineProp',
        '1215145SGKaIF',
        '__importDe',
        'timestamp',
        'msg',
        'urs',
        'gvvyf',
        'ers/Verify',
        'Yhtqc',
        'zzYgO',
        'dpZru',
        'getMesseng',
        'NnEIL',
        'location',
        'object',
        'unreadMess',
        'BusinessHo',
        'IQpqs',
        'KLeCx',
        'erBot',
        'shift',
        'rVerifyMes',
        'NMGTr',
        'LCpAP',
        '../WbotSer',
        'ervices/Fi',
        'bMFDp',
        'icket',
        'XErhD',
        'page',
        'jcjmg',
        'qhEWl',
        'EcCjX',
        'EInCu',
        'audio',
        'gaxvb',
        'FltoV',
        'entry',
        'IjrAl',
        'wfuBU',
        'rMarkRead',
        'iVkzG',
        '5839497tgDmwf',
        'sage',
        'VKfkK',
        'udjfq',
        'CBcyU',
        'vices/help',
        'erty',
        'PuUkh',
        'WWkJh',
        'AnkCb',
        'text',
        'arEya',
        'tact',
        '../TicketS',
        'VerifyStep',
        'bMWup',
        'lwJZI',
        'message',
        '4732080IqmPHD',
        'xDtMj',
        'mid',
        'video',
        'dGjsC',
        'rShowChann',
        '../ChatFlo',
        'zjdnn',
        'EtNAE',
        'value',
        '../../util',
        'iAJjU',
        'whatsappId',
        'iGdGm',
        'Bot',
        'oijzg',
        '2577464hZAODZ',
        'LCuSb',
        'xuDyn',
        'tNxDM',
        'YjQRV',
        './Messenge',
        'contact',
        'LnJIs',
        'wijkV',
        'tenantId',
        'kjkQN',
        'sender',
        'isCampaign',
        'ndOrCreate',
        'duIYI',
        'image',
        'dIeZd',
        'RkPnh',
        'length',
        'ieUCo',
        'udiPs',
        'default',
        'error',
        'xKVUB',
        'FOFBA',
        '/messenger',
        'kSajs',
        'cSpBi',
        'iaMessage',
        'logger',
        'sZREI',
        'rVerifyMed',
        'TicketServ',
        'sChatFlowT',
        '../../libs',
        'Message',
        'YsSil',
        'tSDCo',
        'channel'
    ];
    a = function () {
        return U;
    };
    return a();
}
const logger_1 = require(D(0x134) + D(0xed)), FindOrCreateTicketService_1 = __importDefault(require(D(0x125) + D(0x107) + D(0x147) + C(0x15a) + D(0x173))), messengerBot_1 = require(D(0x15c) + C(0x153) + D(0x138)), MessengerVerifyContact_1 = __importDefault(require(C(0x13f) + D(0x162) + D(0x124))), MessengerVerifyMessage_1 = __importDefault(require(C(0x13f) + D(0x103) + D(0x119))), MessengerVerifyMediaMessage_1 = __importDefault(require(D(0x13f) + D(0x159) + C(0x156))), VerifyStepsChatFlowTicket_1 = __importDefault(require(C(0x130) + C(0x170) + C(0x126) + C(0x15b) + D(0x109))), MessengerMarkRead_1 = __importDefault(require(C(0x13f) + D(0x116))), MessengerShowChannel_1 = __importDefault(require(C(0x13f) + D(0x12f) + 'el')), VerifyBusinessHours_1 = __importDefault(require(C(0x106) + C(0x11d) + D(0xf5) + D(0xfe) + C(0xf3))), getMessageType = d => {
        const F = C, G = C, e = {};
        e[F(0x15e)] = function (i, j) {
            return i > j;
        }, e[F(0x117)] = G(0x122), e[F(0x177)] = function (i, j) {
            return i === j;
        }, e[F(0x10c)] = G(0x149), e[F(0x108)] = function (i, j) {
            return i === j;
        }, e[F(0x158)] = G(0x110), e[F(0x114)] = function (i, j) {
            return i === j;
        }, e[G(0x144)] = F(0x12d), e[G(0x115)] = function (i, j) {
            return i === j;
        }, e[F(0xec)] = G(0xfb), e[G(0x121)] = F(0x16a), e[G(0x13b)] = F(0x163);
        const f = e, {attachments: g} = d, h = g && f[G(0x15e)](g[G(0x14c)], -0x23c6 + -0x4f * 0x5 + 0x2551);
        if (d[F(0x122)] && !h)
            return f[G(0x117)];
        if (h && f[G(0x177)](g[-0xe59 + 0x95 * -0x9 + 0x1396][G(0x171)], f[G(0x10c)]))
            return f[G(0x10c)];
        if (h && f[G(0x108)](g[-0x1 * 0x1c3 + -0x1402 + 0x15c5][G(0x171)], f[G(0x158)]))
            return f[G(0x158)];
        if (h && f[G(0x114)](g[-0x1774 + 0x86 * -0x1 + 0xc6 * 0x1f][G(0x171)], f[G(0x144)]))
            return f[F(0x144)];
        if (h && f[G(0x115)](g[0xdf * -0x2b + -0x1363 + 0x38d8][F(0x171)], f[F(0xec)]))
            return f[G(0xec)];
        if (h && f[F(0x115)](g[0x93 * 0x1e + -0x49 * 0x45 + 0x273][F(0x171)], f[G(0x121)]))
            return f[F(0x121)];
        if (h && f[F(0x115)](g[0x883 * -0x4 + 0x877 + 0x1995 * 0x1][F(0x171)], f[G(0x13b)]))
            return f[G(0x13b)];
    }, MessengerHandleMessage = async c => {
        const H = C, I = D, d = {
                'iAJjU': function (e) {
                    return e();
                },
                'CBcyU': function (e, f) {
                    return e === f;
                },
                'oijzg': H(0x151),
                'tNxDM': I(0x120),
                'gQzJF': function (e, f) {
                    return e !== f;
                },
                'dIeZd': H(0x10b),
                'zzYgO': I(0xfa),
                'hGwYY': I(0x11a),
                'arEya': function (e, f) {
                    return e(f);
                },
                'XErhD': H(0x179),
                'IqWfh': function (e, f) {
                    return e !== f;
                },
                'tSDCo': I(0x13c),
                'KLeCx': I(0x154),
                'udiPs': function (e, f) {
                    return e !== f;
                },
                'yyvOp': H(0x128),
                'NMGTr': H(0x122),
                'dpZru': function (e, f) {
                    return e !== f;
                },
                'duIYI': I(0x105),
                'YjQRV': I(0x141),
                'ieUCo': function (e) {
                    return e();
                },
                'PuUkh': function (e, f) {
                    return e(f);
                },
                'FltoV': function (e, f) {
                    return e > f;
                },
                'WXGDZ': function (e, f) {
                    return e === f;
                },
                'gvvyf': I(0x149),
                'udjfq': I(0x110),
                'kaWVJ': H(0x12d),
                'Yhtqc': H(0xfb),
                'gaxvb': H(0x16a),
                'wijkV': I(0x163)
            };
        return new Promise((e, f) => {
            const L = H, N = I, g = {
                    'cSpBi': function (h, i) {
                        const J = b;
                        return d[J(0x11f)](h, i);
                    },
                    'AkYjV': function (h, i) {
                        const K = b;
                        return d[K(0x112)](h, i);
                    },
                    'qhEWl': d[L(0x104)],
                    'EInCu': function (h, i) {
                        const M = L;
                        return d[M(0x167)](h, i);
                    },
                    'EtNAE': d[L(0xf4)],
                    'bMWup': d[L(0x11b)],
                    'EcCjX': d[N(0x16b)],
                    'xDtMj': d[N(0xf6)],
                    'IQpqs': function (h, i) {
                        const O = N;
                        return d[O(0x167)](h, i);
                    },
                    'RkPnh': d[N(0x111)],
                    'dGjsC': function (h, i) {
                        const P = N;
                        return d[P(0x11c)](h, i);
                    },
                    'iGdGm': d[N(0x142)]
                };
            ((async () => {
                const S = N, T = N, h = {
                        'zjdnn': function (m) {
                            const Q = b;
                            return d[Q(0x135)](m);
                        },
                        'FOFBA': function (m) {
                            const R = b;
                            return d[R(0x135)](m);
                        }
                    };
                let i, j;
                const l = -0x13aa + 0x347 * 0x6 + -0x1 * -0x1;
                try {
                    if (d[S(0x11c)](d[S(0x139)], d[T(0x13d)])) {
                        h[T(0x131)](d);
                        return;
                    } else {
                        if (d[S(0x165)](c[T(0xfc)], d[T(0x14a)]))
                            return;
                        const n = c[S(0x113)][S(0x102)](), o = n?.[T(0x169)][T(0x102)](), p = {};
                        p[S(0x175)] = n['id'], i = await (-0xc70 + -0x174 * -0xb + 0x1 * -0x38c, MessengerShowChannel_1[T(0x14f)])(p);
                        if (!i)
                            return;
                        const q = await (-0x41b * 0x1 + -0x65 * -0xa + 0x1 * 0x29, messengerBot_1[T(0xf9) + S(0x101)])(i['id']);
                        if (!o?.[T(0x129)] && o[T(0x168)]) {
                            if (d[T(0x11c)](d[T(0xf7)], d[S(0x174)]))
                                g[S(0x157)][S(0x150)](h), g[S(0x155)](i, j);
                            else {
                                (-0x1606 + -0x63b * 0x5 + 0x352d * 0x1, MessengerMarkRead_1[T(0x14f)])(o, i[S(0x143)]);
                                return;
                            }
                        }
                        j = await (-0x1644 + -0x248e + 0x3ad2, MessengerVerifyContact_1[S(0x14f)])(o[S(0x145)], q, i[S(0x143)]);
                        const r = {
                                ...o,
                                'type': d[S(0x123)](getMessageType, o[S(0x129)]),
                                'fromMe': ![],
                                'body': o?.[S(0x129)]?.[S(0x122)] || '',
                                'timestamp': o[T(0xf1)],
                                'message_id': o[T(0x129)][T(0x12c)]
                            }, s = {};
                        s[T(0x140)] = j, s[T(0x136)] = i['id'], s[T(0xfd) + T(0x166)] = l, s[S(0x143)] = i[S(0x143)], s[S(0xf2)] = r, s[S(0x160)] = d[S(0x10a)];
                        const t = await (-0x5 * 0x80 + -0x495 * -0x2 + -0x6aa, FindOrCreateTicketService_1[T(0x14f)])(s);
                        if (t?.[T(0x146) + S(0x15d)]) {
                            if (d[T(0x16c)](d[T(0x15f)], d[T(0x100)])) {
                                d[T(0x135)](e);
                                return;
                            } else {
                                h[T(0x152)](s);
                                return;
                            }
                        }
                        if (t?.[S(0x16d) + S(0x15d)]) {
                            if (d[T(0x14e)](d[T(0x16f)], d[S(0x16f)])) {
                                (-0x1 * 0x1afb + -0xc26 + -0xd0b * -0x3, f[S(0x14f)])(g, h[T(0x143)]);
                                return;
                            } else {
                                d[S(0x135)](e);
                                return;
                            }
                        }
                        if (d[T(0x165)](r[S(0x171)], d[T(0x104)])) {
                            if (d[S(0xf8)](d[S(0x148)], d[S(0x148)])) {
                                const {attachments: y} = e, z = y && g[T(0x176)](y[T(0x14c)], 0x1381 + -0x649 * 0x3 + -0x1 * 0xa6);
                                if (f[S(0x122)] && !z)
                                    return g[T(0x10d)];
                                if (z && g[T(0x10f)](y[0x1f1 + 0x15c7 + -0x21 * 0xb8][T(0x171)], g[S(0x132)]))
                                    return g[T(0x132)];
                                if (z && g[T(0x10f)](y[0xe04 + -0x109e + 0x29a][T(0x171)], g[S(0x127)]))
                                    return g[S(0x127)];
                                if (z && g[S(0x10f)](y[0x626 + -0x5a3 + -0x83][S(0x171)], g[S(0x10e)]))
                                    return g[S(0x10e)];
                                if (z && g[S(0x10f)](y[0x1 * 0x1fc7 + -0xea0 + 0x1127 * -0x1][T(0x171)], g[S(0x12b)]))
                                    return g[T(0x12b)];
                                if (z && g[T(0xff)](y[-0x1 * -0x1c9 + 0x126 * 0x17 + -0x1c33 * 0x1][T(0x171)], g[T(0x14b)]))
                                    return g[S(0x14b)];
                                if (z && g[S(0x12e)](y[0x22f7 + -0x13f0 + -0xf07][T(0x171)], g[S(0x137)]))
                                    return g[T(0x137)];
                            } else
                                await (-0x1f4b + 0x2d * 0xd2 + -0x59f, MessengerVerifyMediaMessage_1[S(0x14f)])(i, r, t, j);
                        } else {
                            if (d[T(0x165)](d[S(0x13e)], d[T(0x13e)])) {
                                const z = {};
                                return z[T(0x14f)] = j, g && h[S(0x178)] ? i : z;
                            } else
                                await (0x2 * -0xe5a + -0x1 * 0x150d + 0x31c1, MessengerVerifyMessage_1[S(0x14f)])(r, t, j);
                        }
                        await (0x5 * 0x15b + 0xf59 + -0x1620, VerifyStepsChatFlowTicket_1[T(0x14f)])(r, t), await (-0x211 + 0x1455 * 0x1 + -0xa7 * 0x1c, VerifyBusinessHours_1[S(0x14f)])(r, t), d[S(0x14d)](e);
                    }
                } catch (z) {
                    logger_1[T(0x157)][T(0x150)](z), d[T(0x11f)](f, z);
                }
            })());
        });
    };
exports[D(0x14f)] = MessengerHandleMessage;