'use strict';
const aq = b, ar = b;
(function (c, d) {
    const ao = b, ap = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(ao(0x124)) / (0x5a8 + 0xe35 * 0x1 + -0x13dc) * (parseInt(ap(0x166)) / (-0x517 * 0x1 + 0x1 * -0x1645 + 0x1b5e)) + -parseInt(ap(0x12b)) / (-0x1663 + -0x430 * -0x2 + 0xe06) * (parseInt(ao(0x114)) / (0x5f * 0x5 + 0x111a + -0x12f1)) + -parseInt(ap(0x12a)) / (0x1685 * 0x1 + 0x9df + -0x205f) + -parseInt(ao(0x13c)) / (0x8a9 * -0x1 + 0x1c9 * 0xe + 0x5 * -0x343) + -parseInt(ao(0x17a)) / (0x1128 + -0x1783 + 0x26 * 0x2b) + -parseInt(ap(0x129)) / (0x269f + 0x1 * -0x207 + -0x2490) * (-parseInt(ao(0x149)) / (-0x3e * 0x85 + 0x5 * 0x75b + 0x2 * -0x244)) + parseInt(ap(0x150)) / (-0x3 * -0x2e9 + -0x1 * 0xa57 + 0x1 * 0x1a6);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0x8af1e * -0x2 + 0x2d * -0x6e94 + -0x16a * -0xb29));
var __createBinding = this && this[aq(0xf7) + ar(0x13f)] || (Object[ar(0x10b)] ? function (d, e, f, g) {
        const as = ar, at = aq, h = {};
        h[as(0x170)] = at(0x12e) + at(0x160), h[at(0x11c)] = function (l, n) {
            return l === n;
        }, h[at(0xfa)] = at(0xf5), h[as(0x11f)] = function (l, n) {
            return l === n;
        }, h[at(0x175)] = function (l, n) {
            return l in n;
        }, h[as(0xfb)] = at(0x10d), h[as(0x115)] = at(0x163);
        const i = h;
        if (i[at(0x11f)](g, undefined))
            g = f;
        var j = Object[as(0x109) + as(0x174) + as(0xf8)](e, f);
        (!j || (i[at(0x175)](i[at(0xfb)], j) ? !e[at(0x106)] : j[as(0x159)] || j[at(0x17d) + 'le'])) && (i[as(0x11f)](i[at(0x115)], i[at(0x115)]) ? j = {
            'enumerable': !![],
            'get': function () {
                const au = at, av = as, l = {};
                l[au(0x165)] = i[au(0x170)];
                const n = l;
                if (i[au(0x11c)](i[av(0xfa)], i[au(0xfa)]))
                    return e[f];
                else
                    throw new l[(av(0x16c))](n[au(0x165)], 0x3 * -0x42d + -0xf * -0x283 + -0x1792);
            }
        } : (e[at(0xed) + as(0x156)] = null, f[at(0x137) + at(0x15a)] = null)), Object[at(0x113) + at(0x172)](d, g, j);
    } : function (d, e, f, g) {
        const aw = ar, ax = ar, h = {};
        h[aw(0xf1)] = function (j, l) {
            return j === l;
        };
        const i = h;
        if (i[aw(0xf1)](g, undefined))
            g = f;
        d[g] = e[f];
    }), __setModuleDefault = this && this[ar(0x17b) + aq(0x10c)] || (Object[aq(0x10b)] ? function (e, f) {
        const ay = ar, az = ar, g = {};
        g[ay(0x179)] = ay(0x16c);
        const h = g, i = {};
        i[ay(0xf4)] = !![], i[az(0x16b)] = f, Object[az(0x113) + ay(0x172)](e, h[az(0x179)], i);
    } : function (d, e) {
        const aA = ar, aB = ar, f = {};
        f[aA(0x15d)] = aB(0x16c);
        const g = f;
        d[g[aA(0x15d)]] = e;
    }), __importStar = this && this[aq(0xdb) + 'ar'] || function (c) {
        const aC = ar, aD = ar, d = {
                'tMtMy': aC(0x123),
                'EhpQQ': function (i, j, l) {
                    return i(j, l);
                },
                'GUgyo': function (i, j) {
                    return i != j;
                },
                'ZAKiv': function (i, j) {
                    return i !== j;
                },
                'BjemX': aD(0x16c),
                'jlRKR': function (i, j, l, m) {
                    return i(j, l, m);
                }
            }, e = d[aC(0x15e)][aC(0x126)]('|');
        let f = -0x2098 + 0xb13 * 0x2 + 0xa72;
        while (!![]) {
            switch (e[f++]) {
            case '0':
                if (c && c[aC(0x106)])
                    return c;
                continue;
            case '1':
                return g;
            case '2':
                var g = {};
                continue;
            case '3':
                d[aD(0x143)](__setModuleDefault, g, c);
                continue;
            case '4':
                if (d[aC(0x121)](c, null)) {
                    for (var h in c)
                        if (d[aD(0xf9)](h, d[aD(0x16d)]) && Object[aC(0xf2)][aC(0x145) + aD(0x172)][aC(0x171)](c, h))
                            d[aD(0x119)](__createBinding, g, c, h);
                }
                continue;
            }
            break;
        }
    }, __importDefault = this && this[ar(0x15b) + ar(0x118)] || function (c) {
        const aE = aq;
        return c && c[aE(0x106)] ? c : { 'default': c };
    };
const G = {};
function a() {
    const aH = [
        'string',
        'closedTick',
        'value',
        'default',
        'BjemX',
        'JhWRX',
        'ngAccepted',
        'jrsbF',
        'call',
        'erty',
        'uFtjn',
        'ertyDescri',
        'qOcVc',
        'CduXH',
        'RZmjo',
        'not',
        'iTzLC',
        '9181557qtJAjv',
        '__setModul',
        'TYmzr',
        'configurab',
        '__importSt',
        'ionkey',
        'MSG',
        'userId',
        'chatFlowId',
        'ups',
        'etsPostImp',
        'queue_tran',
        'min',
        'age',
        'ion',
        'xGHcx',
        'rating',
        'queueId',
        'QXpaX',
        'session',
        'fbPageId',
        'EPatc',
        'importOldM',
        'ieiYX',
        'instagramU',
        'xIujr',
        'LeOif',
        'prototype',
        'sendMsgTra',
        'enumerable',
        'gOjvL',
        'color',
        '__createBi',
        'ptor',
        'ZAKiv',
        'CaxTB',
        'ExLAi',
        'isActive',
        'ratingInva',
        'sequelize',
        'Whatsapp',
        'ssage',
        'WDNTe',
        'DGIzQ',
        'tokenAPI',
        'OCefB',
        'wabaBSP',
        '__esModule',
        'tenantId',
        'ls/Whatsap',
        'getOwnProp',
        'object',
        'create',
        'eDefault',
        'get',
        'ffTub',
        'where',
        'whCZR',
        'rs/AppErro',
        'uKzAw',
        'defineProp',
        '4HqdKtg',
        'eBmAf',
        'ratingClos',
        'update',
        'fault',
        'jlRKR',
        'importmess',
        'lid',
        'TOQrC',
        'oldDefault',
        'sdvqQ',
        'tsmhc',
        'farewellMe',
        'GUgyo',
        '1|2|3|0|4',
        '0|2|4|3|1',
        '768589eEtfjj',
        'NTkmW',
        'split',
        'name',
        'ZriTt',
        '1672rysOGM',
        '1815865IdsfSu',
        '211338hhZODR',
        'nsfTicketM',
        'ing',
        'ERR_NO_WAP',
        'status',
        'zttsb',
        '../../erro',
        'type',
        'CtLeo',
        'tokenTeleg',
        'ages',
        'bxper',
        'importRece',
        'yoCxh',
        'message',
        'validate',
        'boolean',
        '9888174LscZqA',
        'ratingMess',
        'qtxYZ',
        'nding',
        '../../mode',
        'timeRating',
        'LbIaW',
        'EhpQQ',
        'instagramK',
        'hasOwnProp',
        'sMbza',
        'is_open_ia',
        'findOne',
        '27567owwBcE',
        'isDefault',
        'yup',
        'transcript',
        'ram',
        'ZXwsI',
        'whatsapp',
        '28831530rlhrCf',
        'CObVN',
        'fTrKN',
        'WWJPO',
        'shape',
        'gZPXO',
        'essages',
        'essagesGro',
        'iTWrn',
        'writable',
        'ntMessages',
        '__importDe',
        'sendGreeti',
        'hnlBt',
        'tMtMy',
        'gEIQY',
        'P_FOUND',
        'ser',
        'ycBOp',
        'uETKZ',
        'suJDm',
        'DjQAk',
        '2nUcIPW',
        'orted',
        'nsfTicket'
    ];
    a = function () {
        return aH;
    };
    return a();
}
G[ar(0x16b)] = !![], Object[aq(0x113) + aq(0x172)](exports, aq(0x106), G);
const Yup = __importStar(require(aq(0x14b))), sequelize_1 = require(aq(0xfe)), AppError_1 = __importDefault(require(aq(0x131) + ar(0x111) + 'r')), Whatsapp_1 = __importDefault(require(aq(0x140) + aq(0x108) + 'p')), UpdateWhatsAppService = async ({
        whatsappData: l,
        whatsappId: m,
        tenantId: n
    }) => {
        const aF = aq, aG = aq, o = {
                'LbIaW': aF(0x16c),
                'uFtjn': function (a0, a1) {
                    return a0 === a1;
                },
                'CduXH': function (a0, a1) {
                    return a0 in a1;
                },
                'whCZR': aG(0x10d),
                'yoCxh': aG(0x122),
                'ycBOp': function (a0, a1, a2) {
                    return a0(a1, a2);
                },
                'iTWrn': function (a0, a1) {
                    return a0 != a1;
                },
                'QXpaX': function (a0, a1) {
                    return a0 !== a1;
                },
                'ieiYX': function (a0, a1, a2, a3) {
                    return a0(a1, a2, a3);
                },
                'RZmjo': aF(0x128),
                'DGIzQ': function (a0, a1) {
                    return a0 !== a1;
                },
                'OCefB': aF(0x11e),
                'NTkmW': function (a0, a1) {
                    return a0 === a1;
                },
                'qtxYZ': aG(0x155),
                'bxper': aG(0x151),
                'xIujr': aG(0x130),
                'sMbza': aF(0x12e) + aG(0x160),
                'fTrKN': aG(0x16e),
                'TYmzr': aF(0xe6),
                'gEIQY': function (a0, a1) {
                    return a0 === a1;
                },
                'CtLeo': aF(0x10e),
                'suJDm': aG(0x153),
                'ZXwsI': aF(0x112),
                'EPatc': aF(0x101)
            }, p = Yup[aF(0x10a)]()[aF(0x154)]({
                'name': Yup[aG(0x169)]()[aG(0xe3)](0x124 * -0x1 + -0x6f7 * 0x1 + 0x81d),
                'isDefault': Yup[aG(0x13b)]()
            }), {
                name: q,
                status: r,
                isDefault: s,
                session: t,
                tokenTelegram: u,
                instagramUser: v,
                instagramKey: w,
                isActive: x,
                type: y,
                wabaBSP: z,
                tokenAPI: A,
                fbPageId: B,
                farewellMessage: C,
                chatFlowId: D,
                is_open_ia: E,
                queue_transf: F,
                queueId: H,
                userId: I,
                importmessages: J,
                importOldMessages: K,
                importRecentMessages: L,
                importOldMessagesGroups: M,
                closedTicketsPostImported: N,
                rating: O,
                ratingMessage: P,
                ratingClosing: Q,
                ratingInvalid: R,
                timeRating: S,
                transcription: T,
                transcriptionkey: U,
                sendGreetingAccepted: V,
                sendGreetingAcceptedMSG: W,
                sendMsgTransfTicket: X,
                sendMsgTransfTicketMSG: Y,
                color: Z
            } = l;
        try {
            if (o[aF(0x173)](o[aG(0x177)], o[aG(0x177)])) {
                const a0 = {};
                a0[aG(0x127)] = q, a0[aF(0x12f)] = r, a0[aG(0x14a)] = s, await p[aG(0x13a)](a0);
                let a1 = null;
                if (s) {
                    if (o[aG(0x102)](o[aF(0x104)], o[aF(0x104)])) {
                        const a9 = {};
                        a9[aG(0xf4)] = !![], a9[aG(0x10d)] = function () {
                            return a3[a5];
                        }, f = a9;
                    } else {
                        const a9 = { [sequelize_1['Op'][aG(0x178)]]: m }, aa = {};
                        aa[aG(0x14a)] = !![], aa[aG(0x107)] = n, aa['id'] = a9;
                        const ab = {};
                        ab[aG(0x10f)] = aa, a1 = await Whatsapp_1[aF(0x16c)][aF(0x148)](ab);
                        if (a1) {
                            if (o[aG(0x125)](o[aG(0x13e)], o[aF(0x136)]))
                                aa[o[aG(0x142)]] = ab;
                            else {
                                const ad = {};
                                ad[aF(0x14a)] = ![], await a1[aF(0x117)](ad);
                            }
                        }
                    }
                }
                const a2 = {};
                a2['id'] = m, a2[aG(0x107)] = n;
                const a3 = {};
                a3[aF(0x10f)] = a2;
                const a4 = await Whatsapp_1[aF(0x16c)][aG(0x148)](a3);
                if (!a4) {
                    if (o[aF(0x173)](o[aF(0xf0)], o[aG(0xf0)]))
                        throw new AppError_1[(aF(0x16c))](o[aF(0x146)], -0x1ed3 * -0x1 + 0x1cc * 0x1 + -0x1 * 0x1f0b);
                    else {
                        if (o[aG(0x173)](a7, l))
                            m = n;
                        o[p] = q[r];
                    }
                }
                const a5 = {};
                a5[aF(0x127)] = q, a5[aG(0x12f)] = r, a5[aF(0xea)] = t, a5[aF(0x14a)] = s, a5[aG(0x134) + aF(0x14d)] = u, a5[aF(0xef) + aG(0x161)] = v, a5[aF(0xfc)] = x, a5[aG(0x132)] = y, a5[aG(0x105)] = z, a5[aG(0x103)] = A, a5[aF(0xeb)] = B, a5[aF(0x120) + aF(0x100)] = C, a5[aF(0xdf)] = D, a5[aG(0x147)] = E, a5[aF(0xe2) + 'sf'] = F, a5[aG(0xe8)] = H, a5[aG(0xde)] = I, a5[aF(0x11a) + aF(0x135)] = J, a5[aG(0xed) + aG(0x156)] = K, a5[aG(0x137) + aG(0x15a)] = L, a5[aF(0xed) + aF(0x157) + aG(0xe0)] = M, a5[aG(0x16a) + aG(0xe1) + aF(0x167)] = N, a5[aG(0xe7)] = O, a5[aG(0x13d) + aG(0xe4)] = P, a5[aF(0x116) + aG(0x12d)] = Q, a5[aG(0xfd) + aG(0x11b)] = R, a5[aG(0x141)] = S, a5[aF(0x14c) + aF(0xe5)] = T, a5[aG(0x14c) + aG(0xdc)] = U, a5[aF(0x15c) + aG(0x16f)] = V, a5[aG(0x15c) + aF(0x16f) + aG(0xdd)] = W, a5[aG(0xf3) + aF(0x168)] = X, a5[aF(0xf3) + aG(0x12c) + 'SG'] = Y, a5[aF(0xf6)] = Z;
                const a6 = a5;
                if (o[aF(0x173)](J, ![])) {
                    if (o[aG(0x102)](o[aF(0x152)], o[aF(0x17c)]))
                        a6[aF(0xed) + aF(0x156)] = null, a6[aG(0x137) + aF(0x15a)] = null;
                    else {
                        if (o[aG(0x173)](p, q))
                            r = s;
                        var ag = t[aF(0x109) + aG(0x174) + aF(0xf8)](u, v);
                        (!ag || (o[aF(0x176)](o[aG(0x110)], ag) ? !w[aF(0x106)] : ag[aG(0x159)] || ag[aG(0x17d) + 'le'])) && (ag = {
                            'enumerable': !![],
                            'get': function () {
                                return ag[F];
                            }
                        }), z[aF(0x113) + aG(0x172)](A, B, ag);
                    }
                }
                if (w) {
                    if (o[aF(0x15f)](o[aG(0x133)], o[aF(0x164)]))
                        throw new e[(aG(0x16c))](f[aF(0x139)]);
                    else
                        a6[aF(0x144) + 'ey'] = w;
                }
                await a4[aF(0x117)](a6);
                const a7 = {};
                return a7[aG(0x14f)] = a4, a7[aF(0x11d) + aG(0xff)] = a1, a7;
            } else
                e[aG(0x144) + 'ey'] = f;
        } catch (ai) {
            if (o[aF(0x125)](o[aG(0x14e)], o[aG(0xec)])) {
                const ak = o[aG(0x138)][aG(0x126)]('|');
                let al = 0x1be9 + -0x1ddb + 0x1 * 0x1f2;
                while (!![]) {
                    switch (ak[al++]) {
                    case '0':
                        o[aG(0x162)](w, am, x);
                        continue;
                    case '1':
                        if (n && o[aF(0x106)])
                            return p;
                        continue;
                    case '2':
                        var am = {};
                        continue;
                    case '3':
                        if (o[aG(0x158)](q, null)) {
                            for (var an in r)
                                if (o[aG(0xe9)](an, o[aG(0x142)]) && s[aG(0xf2)][aF(0x145) + aG(0x172)][aF(0x171)](t, an))
                                    o[aF(0xee)](u, am, v, an);
                        }
                        continue;
                    case '4':
                        return am;
                    }
                    break;
                }
            } else
                throw new AppError_1[(aG(0x16c))](ai[aF(0x139)]);
        }
    };
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x517 * 0x3 + 0x70b + -0x1575);
        let h = e[f];
        return h;
    }, b(c, d);
}
exports[ar(0x16c)] = UpdateWhatsAppService;