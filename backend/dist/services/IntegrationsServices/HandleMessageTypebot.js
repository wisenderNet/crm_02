'use strict';
function a() {
    const bG = [
        'kpQBa',
        'toString',
        'dos:',
        'getTypeMes',
        'aYiWn',
        'EjqsT',
        'msg',
        'svCqC',
        'eIxue',
        '../Message',
        'integratio',
        'xrFLD',
        'ers/Verify',
        'geSystemSe',
        'ate',
        'PUGGo',
        'Erro\x20ao\x20cr',
        'updatedAt',
        'eYaRU',
        'iqLbP',
        'reload',
        'BpiOP',
        'leys',
        'length',
        'underline',
        'ener:\x20',
        'YibOi',
        'ticketData',
        'value',
        'Invalid\x20me',
        'YoUAI',
        'lmzwd',
        '20EcGorj',
        'queueId',
        '/api/v1/ty',
        'Services/C',
        'DFUSD',
        'LoUyG',
        'oMHZT',
        'xoazZ',
        'dateTicket',
        'text',
        'DYVrg',
        'BOvYb',
        'useIntegra',
        'remoteJid',
        'priCj',
        'ervices/Up',
        'Content-Ty',
        'stringify',
        'jtbeW',
        'YDOrP',
        'italic',
        'iar\x20sessÃ£o',
        'typebotSta',
        'KSsyQ',
        'QmJEk',
        'nzIvm',
        'headers',
        'OsIxW',
        'oYsmk',
        'ZKocl',
        'autoClose',
        'pQbja',
        'YxICM',
        'isTransfer',
        'userId',
        'kxKXB',
        'BrUJx',
        'cmNLf',
        'ContactBai',
        'ssions/',
        'pYeMm',
        'Zuxkt',
        'BETjN',
        'YYqww',
        's/logger',
        '2|0|3|4|1',
        'sionId',
        'gUIWy',
        'tKfoc',
        'cNIZs',
        'BvFDY',
        'YGMgF',
        'tenantId',
        'eUQay',
        'payload',
        'read',
        'jGXsP',
        'ZzCwG',
        'error',
        'vices/help',
        'uShma',
        '12ISVRmt',
        'BDxiZ',
        'cKEHt',
        'Vunix',
        'boDAW',
        'body',
        'findOne',
        'MltXe',
        'Accept',
        'input',
        'applicatio',
        'name',
        'KfMwp',
        'svhfl',
        'gth',
        't:\x20',
        'message',
        'messageId',
        'LNBki',
        'VRkqA',
        '/api/v1/se',
        '216kfRVJT',
        'wegkf',
        'reniciando',
        '../TicketS',
        'url',
        'pxbCh',
        'audioMessa',
        'NsfJa',
        'bYuzE',
        'LfsFb',
        'isBot',
        'QXZvL',
        'ketService',
        'sagem\x20no\x20b',
        'ervice',
        'key',
        '../../util',
        'VIJMc',
        'axios',
        'YWlXQ',
        'pending',
        'ZtdpX',
        'where',
        'Error\x20on\x20t',
        'IBbmO',
        'BcZmI',
        'ls/Message',
        '../../mode',
        'HpXdn',
        'status@bro',
        'log',
        'IfvMJ',
        'startsWith',
        'JDsRg',
        'stopBot',
        'ticket:upd',
        'YiQVy',
        'post',
        'zkaOs',
        'status',
        'vQvJz',
        'type',
        'Services/U',
        'StxcL',
        '../../help',
        'typebot',
        'sendType',
        'defineProp',
        'Usvgz',
        'tagId',
        '/continueC',
        'GwdRY',
        '2086284beupnO',
        'vIazG',
        'replace',
        '16470VaFdWT',
        'children',
        'ervices/Cr',
        'KXQkw',
        'zcPOx',
        'ZgVDv',
        '../Contact',
        '__importDe',
        'contactId',
        '383453qfEopv',
        'LtsKn',
        'ssage.\x20Ple',
        'YEZlL',
        'nId',
        'ctTagsBotS',
        'fault',
        'hat',
        'HMpZr',
        'data',
        'update',
        'ase,\x20try\x20a',
        'sage',
        '2179619KtvyBM',
        'Oqkuk',
        'tegrations',
        'typebotSes',
        'oowYh',
        'dMQih',
        'Service',
        'ls/QueueIn',
        'widJz',
        'uOtPv',
        'NSMcZ',
        'ticket',
        'sessionId',
        'KRHwD',
        'umBGC',
        'info',
        'adcast',
        'bold',
        'ticketId',
        'hZLmg',
        'ers/Mustac',
        'rwtIE',
        'Emit',
        'ycAUo',
        'dxvQW',
        'IXlxs',
        'anco\x20de\x20da',
        'HYwuz',
        'lboYu',
        'n/json',
        'content',
        '518594epvmko',
        'email',
        'setMinutes',
        'floor',
        '__esModule',
        'xMHkH',
        'RywOk',
        'rdrPu',
        'pebots/',
        '8TyVoMU',
        '../WbotSer',
        'mediaUrl',
        'method',
        'fromMe',
        'default',
        'reateMessa',
        '1HfAAAK',
        '5IaWxXZ',
        'hkkdi',
        'richText',
        'LxqKl',
        'maxBodyLen',
        'eateLogTic',
        'ence',
        'gain.',
        'hfrJW',
        'getMinutes',
        'entrou\x20no\x20',
        'tus',
        'messages',
        'parse',
        'qXBAG',
        'fivXt',
        'CqLAe',
        'IovCK',
        'kKLXV',
        'Sycxm',
        'Erro\x20ao\x20bu',
        'request',
        'XfnMR',
        'scar\x20a\x20men',
        'XTfRd',
        'lodash',
        'BnPLu',
        'pdateConta',
        'wZDSX',
        'jndnQ',
        'urtEh',
        'akDQI',
        'rvice',
        'isNil',
        'getBodyMes',
        'closeTicke',
        'hEnvA',
        'HEykH',
        'CfjrJ',
        'AmJNA',
        'AmEmz',
        'xcryY',
        'random',
        '\x20do\x20typebo',
        'protocol',
        '2735007ZElcHT',
        'BPrCi',
        'erty',
        'nQbhR',
        'rDEru',
        '\x20-\x20',
        'ers/socket',
        '/startChat',
        'pushName',
        'tion',
        'FBaYW',
        'logger',
        'nHlnq',
        'hZvll',
        'RIaAt',
        'contact',
        '\x20typebot',
        'cLgtp',
        'ypebotList',
        'howek',
        'aPWCT',
        'split',
        '103701VUBSbr',
        'vIiUu',
        'QdUMJ',
        'string',
        'choice\x20inp',
        'closed'
    ];
    a = function () {
        return bG;
    };
    return a();
}
const bz = b, bA = b;
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0xbb9 + -0x355 * 0x1 + 0x2 * -0x346);
        let h = e[f];
        return h;
    }, b(c, d);
}
(function (c, d) {
    const bx = b, by = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(bx(0x253)) / (0x5f3 + 0xce7 + -0x12d9 * 0x1) * (-parseInt(bx(0x243)) / (0x6db + 0xd4f * -0x1 + -0x2 * -0x33b)) + parseInt(bx(0x297)) / (-0xf * -0x281 + -0x4e0 + -0x20ac) * (-parseInt(by(0x2bd)) / (-0x8 * -0x1f7 + -0xb8d + -0x427)) + -parseInt(by(0x254)) / (-0x2e + -0x825 + 0x858) * (parseInt(by(0x20b)) / (0x1003 * 0x1 + -0x52b + -0xad2)) + -parseInt(by(0x217)) / (0x1512 + 0x220c + -0x3717) * (-parseInt(by(0x24c)) / (0x171f + 0x1 * 0x14b + -0x1862)) + -parseInt(bx(0x30f)) / (-0x1dab + 0x1a5 * 0xb + -0x3 * -0x3df) * (-parseInt(bx(0x20e)) / (0x129c + -0xa7 * 0x2 + 0xdd * -0x14)) + parseInt(by(0x281)) / (0x2289 + -0x51b + 0x1d63 * -0x1) + -parseInt(bx(0x2fa)) / (-0x3 * -0x187 + -0x1fdd + 0x1b54) * (-parseInt(by(0x224)) / (-0xdb7 * -0x1 + -0x1283 + 0x1 * 0x4d9));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0x1 * 0x36f84 + 0x2 * 0x353bf + 0x5 * -0x141cb));
var __importDefault = this && this[bz(0x215) + bz(0x21d)] || function (c) {
    const bB = bA;
    return c && c[bB(0x247)] ? c : { 'default': c };
};
const l = {};
l[bA(0x2b9)] = !![], Object[bA(0x206) + bz(0x283)](exports, bA(0x247), l);
const axios_1 = __importDefault(require(bz(0x1e9))), lodash_1 = require(bA(0x26d)), Message_1 = __importDefault(require(bA(0x1f2) + bz(0x1f1))), QueueIntegrations_1 = __importDefault(require(bz(0x1f2) + bA(0x22b) + bA(0x226))), VerifyContactBaileys_1 = require(bA(0x24d) + bA(0x2f8) + bz(0x2a9) + bA(0x2e3) + bz(0x2b3)), logger_1 = require(bA(0x1e7) + bA(0x2e9)), UpdateTicketService_1 = __importDefault(require(bz(0x1da) + bA(0x2cc) + bA(0x2c5) + bA(0x22a))), UpdateContactTagsBotService_1 = __importDefault(require(bA(0x214) + bA(0x201) + bz(0x26f) + bz(0x21c) + bA(0x1e5))), CreateMessageSystemService_1 = __importDefault(require(bz(0x2a6) + bA(0x2c0) + bA(0x252) + bA(0x2aa) + bz(0x274))), CreateLogTicketService_1 = __importDefault(require(bA(0x1da) + bz(0x210) + bA(0x259) + bA(0x1e3))), Mustache_1 = __importDefault(require(bA(0x203) + bA(0x238) + 'he')), socketEmit_1 = __importDefault(require(bA(0x203) + bA(0x287) + bA(0x23a))), delay = c => new Promise(d => setTimeout(d, c)), HandleMessageTypebot = async ({
        msg: I,
        ticket: J
    }) => {
        const bC = bz, bD = bz, K = {
                'umBGC': function (a2, a3) {
                    return a2 !== a3;
                },
                'YYqww': bC(0x2d4),
                'uShma': bC(0x21f),
                'wegkf': function (a2, a3) {
                    return a2 !== a3;
                },
                'IXlxs': bD(0x2c7),
                'widJz': function (a2, a3) {
                    return a2 * a3;
                },
                'QmJEk': bC(0x29a),
                'eIxue': function (a2, a3) {
                    return a2 || a3;
                },
                'fivXt': bC(0x1fc),
                'LfsFb': bD(0x304) + bC(0x241),
                'YiQVy': function (a2, a3) {
                    return a2 === a3;
                },
                'howek': bD(0x2d0),
                'ycAUo': bC(0x1fd),
                'BOvYb': bC(0x2ad) + bD(0x2d2) + bD(0x27f) + bD(0x309),
                'nQbhR': bD(0x268) + bC(0x26b) + bC(0x1e4) + bD(0x23e) + bC(0x29f),
                'hkkdi': function (a2, a3) {
                    return a2 === a3;
                },
                'eYaRU': bC(0x1f4) + bC(0x234),
                'rwtIE': bD(0x2bc),
                'cKEHt': function (a2, a3) {
                    return a2 === a3;
                },
                'NSMcZ': bC(0x1dd) + 'ge',
                'xcryY': bD(0x20a),
                'oowYh': function (a2, a3) {
                    return a2 === a3;
                },
                'BpiOP': bC(0x285),
                'HpXdn': bD(0x2c2),
                'cNIZs': function (a2, a3) {
                    return a2 === a3;
                },
                'YGMgF': bD(0x2e1),
                'vQvJz': bD(0x2a2),
                'Vunix': function (a2, a3) {
                    return a2 === a3;
                },
                'YibOi': bC(0x202),
                'Sycxm': function (a2, a3) {
                    return a2 !== a3;
                },
                'HYwuz': bC(0x2e6),
                'dMQih': bC(0x27c),
                'hfrJW': bD(0x1ec),
                'Usvgz': bC(0x2d9),
                'QdUMJ': bD(0x25e) + bC(0x204),
                'hZvll': function (a2, a3) {
                    return a2 - a3;
                },
                'VRkqA': function (a2, a3) {
                    return a2(a3);
                },
                'svCqC': function (a2, a3) {
                    return a2 > a3;
                },
                'BPrCi': function (a2, a3) {
                    return a2 < a3;
                },
                'rdrPu': bC(0x1f6),
                'XTfRd': function (a2, a3) {
                    return a2 === a3;
                },
                'JDsRg': bD(0x266),
                'hZLmg': bD(0x272),
                'oMHZT': function (a2, a3, a4, a5) {
                    return a2(a3, a4, a5);
                },
                'CqLAe': bC(0x2d8),
                'nHlnq': bC(0x279),
                'BDxiZ': function (a2, a3) {
                    return a2 !== a3;
                },
                'CfjrJ': function (a2, a3) {
                    return a2 === a3;
                },
                'IBbmO': function (a2, a3) {
                    return a2 === a3;
                },
                'nzIvm': bD(0x1df),
                'ZKocl': bD(0x28b),
                'MltXe': function (a2, a3) {
                    return a2 === a3;
                },
                'vIazG': bC(0x2dd),
                'jGXsP': bC(0x306),
                'zcPOx': function (a2, a3) {
                    return a2 === a3;
                },
                'pYeMm': bC(0x30c),
                'YEZlL': bD(0x2e2),
                'jndnQ': function (a2, a3) {
                    return a2(a3);
                },
                'pxbCh': bD(0x204),
                'qXBAG': bC(0x1eb),
                'lboYu': function (a2, a3) {
                    return a2 === a3;
                },
                'YWlXQ': bC(0x2c6),
                'VIJMc': bD(0x2fe),
                'pQbja': bC(0x28f),
                'KRHwD': bD(0x22d),
                'NsfJa': bD(0x2a8),
                'Oqkuk': function (a2, a3) {
                    return a2 !== a3;
                },
                'kxKXB': bC(0x27b),
                'IovCK': bD(0x2ec),
                'DFUSD': bD(0x213),
                'xoazZ': bD(0x307),
                'dxvQW': bD(0x2f6),
                'LtsKn': bC(0x298),
                'BETjN': bD(0x2bb),
                'priCj': bD(0x273),
                'BvFDY': bD(0x2a1),
                'jtbeW': function (a2, a3) {
                    return a2 !== a3;
                },
                'tKfoc': bD(0x29d),
                'eUQay': bD(0x278),
                'LxqKl': bC(0x2ba) + bD(0x219) + bD(0x222) + bC(0x25b),
                'XfnMR': bD(0x2ea),
                'BcZmI': bC(0x29c),
                'cLgtp': bD(0x2db),
                'iqLbP': bD(0x1fa) + bD(0x2ab),
                'RywOk': function (a2, a3) {
                    return a2 > a3;
                },
                'KXQkw': function (a2, a3) {
                    return a2 !== a3;
                },
                'BnPLu': bD(0x29b) + 'ut',
                'wZDSX': function (a2, a3) {
                    return a2(a3);
                },
                'xMHkH': function (a2, a3) {
                    return a2 === a3;
                },
                'QXZvL': bD(0x1d9) + bC(0x291),
                'PUGGo': function (a2, a3) {
                    return a2(a3);
                },
                'aPWCT': bD(0x1ee) + bC(0x293) + bC(0x2b6)
            };
        if (K[bC(0x255)](I[bD(0x1e6)][bC(0x2ca)], K[bC(0x2af)]))
            return;
        const L = {};
        L['id'] = J[bC(0x2a7) + bC(0x21b)];
        const M = {};
        M[bC(0x1ed)] = L;
        const N = await QueueIntegrations_1[bD(0x251)][bC(0x300)](M), {
                urlN8N: O,
                typebotExpires: P,
                typebotKeywordFinish: Q,
                typebotKeywordRestart: R,
                typebotUnknownMessage: S,
                typebotSlug: T,
                typebotDelayMessage: U,
                typebotRestartMessage: V
            } = N, W = I[bD(0x1e6)][bD(0x2ca)][bD(0x20d)](/\D/g, '');
        let X = await (0x1b * -0x51 + -0x7e * -0x14 + -0x1 * 0x14d, VerifyContactBaileys_1[bD(0x276) + bD(0x223)])(I);
        if (!X) {
            if (K[bD(0x255)](K[bC(0x239)], K[bC(0x239)])) {
                const a2 = (-0x35 * -0x2f + -0x724 * -0x4 + -0x264b, VerifyContactBaileys_1[bD(0x2a0) + bC(0x223)])(I);
                if (K[bC(0x2fc)](a2, K[bD(0x22e)])) {
                    if (K[bC(0x1d8)](K[bD(0x27d)], K[bD(0x27d)]))
                        e = f[bD(0x2c6)];
                    else
                        try {
                            if (K[bD(0x228)](K[bD(0x2b2)], K[bD(0x1f3)]))
                                e = '*' + f + '*';
                            else {
                                const a5 = {};
                                a5[bC(0x30b)] = I[bD(0x1e6)]['id'];
                                const a6 = {};
                                a6[bC(0x1ed)] = a5;
                                const a7 = await Message_1[bD(0x251)][bC(0x300)](a6);
                                a7 && a7[bD(0x2ff)] ? K[bD(0x2ee)](K[bC(0x2f0)], K[bC(0x1ff)]) ? a5 = a6[bC(0x2c6)] : X = a7[bD(0x2ff)] : K[bC(0x2fd)](K[bC(0x2b7)], K[bD(0x2b7)]) ? X = a2 : a5 = '~' + a6 + '~';
                            }
                        } catch (aa) {
                            if (K[bC(0x267)](K[bD(0x23f)], K[bD(0x229)]))
                                console[bD(0x2f7)](K[bD(0x284)], aa);
                            else
                                throw M;
                        }
                } else
                    K[bC(0x1d8)](K[bC(0x25c)], K[bD(0x207)]) ? X = a2 : e = '~' + f + '~';
            } else
                e = '*' + f + '*';
        }
        console[bC(0x1f5)](K[bD(0x299)]);
        async function Y(ae, af, ag) {
            const bE = bD, bF = bD;
            if (K[bE(0x232)](K[bE(0x2e8)], K[bE(0x2f9)]))
                try {
                    if (K[bF(0x1d8)](K[bE(0x23d)], K[bE(0x23d)]))
                        e = f[bE(0x2c6)];
                    else {
                        const ai = Math[bE(0x246)](K[bE(0x22c)](Math[bE(0x27e)](), -0x26e351d3 * -0x9 + 0x1 * 0x320089c43 + -0x229fa98ae * 0x1))[bF(0x29e)](), aj = JSON[bE(0x2ce)]({
                                'isStreamEnabled': !![],
                                'message': K[bE(0x2d5)],
                                'resultId': K[bE(0x2d5)],
                                'isOnlyRegistering': ![],
                                'prefilledVariables': {
                                    'number': ag,
                                    'pushName': ae[bF(0x289)] || '',
                                    'nome': J?.[bE(0x290)]?.[bE(0x305)] || '',
                                    'email': J?.[bE(0x290)]?.[bE(0x244)] || '',
                                    'ticketId': J?.['id'] || '',
                                    'protocol': J?.[bE(0x280)] || '',
                                    'ticket': K[bE(0x2a5)](J, ''),
                                    'remoteJid': ae[bE(0x1e6)][bF(0x2ca)]
                                }
                            }), ak = {};
                        ak[bF(0x24f)] = K[bF(0x263)], ak[bF(0x258) + bF(0x308)] = Infinity, ak[bE(0x1db)] = O + (bE(0x2bf) + bF(0x24b)) + T + bF(0x288), ak[bE(0x2d7)] = {}, ak[bF(0x220)] = aj, ak[bE(0x2d7)][bE(0x2cd) + 'pe'] = K[bF(0x1e0)], ak[bE(0x2d7)][bF(0x302)] = K[bF(0x1e0)];
                        const al = ak, am = await axios_1[bF(0x251)][bE(0x269)](al);
                        return am[bF(0x220)];
                    }
                } catch (an) {
                    if (K[bF(0x1fb)](K[bE(0x294)], K[bE(0x23b)]))
                        g = h?.[bE(0x260)], i = j?.[bE(0x303)];
                    else {
                        logger_1[bF(0x28c)][bE(0x233)](K[bF(0x2c8)], an);
                        throw an;
                    }
                }
            else
                e = '*' + f + '*';
        }
        let Z, a0, a1 = ![];
        try {
            const ae = new Date();
            ae[bD(0x245)](K[bD(0x28e)](ae[bD(0x25d)](), K[bC(0x30d)](Number, P)));
            if (K[bD(0x2a4)](P, 0x71e + -0x16b9 + -0x5 * -0x31f) && K[bD(0x282)](J[bC(0x2ae)], ae)) {
                if (K[bC(0x1fb)](K[bC(0x24a)], K[bC(0x24a)])) {
                    const af = {};
                    af[bC(0x227) + bD(0x2eb)] = null, af[bC(0x1e1)] = !![], await J[bC(0x221)](af), await J[bD(0x2b1)]();
                } else
                    e = '~' + f + '~';
            }
            if ((0x1 * -0xc36 + 0x13c * -0x2 + 0x757 * 0x2, lodash_1[bC(0x275)])(J[bC(0x227) + bD(0x2eb)])) {
                if (K[bD(0x26c)](K[bD(0x1f8)], K[bC(0x237)]))
                    e = f;
                else {
                    a0 = await K[bD(0x2c3)](Y, I, N, W), Z = a0[bC(0x230)], a1 = !![];
                    const ai = {};
                    ai[bC(0x227) + bC(0x2eb)] = Z, ai[bC(0x2d3) + bC(0x25f)] = !![], ai[bD(0x2c9) + bC(0x28a)] = !![], ai[bC(0x2a7) + bC(0x21b)] = N['id'], await J[bD(0x221)](ai);
                }
            } else
                K[bD(0x1fb)](K[bD(0x264)], K[bC(0x28d)]) ? e = f : (Z = J[bC(0x227) + bC(0x2eb)], a1 = J[bD(0x2d3) + bD(0x25f)]);
            if (!a1)
                return;
            if (K[bD(0x232)](X, Q) && K[bC(0x2fb)](X, R)) {
                let ak, al, am;
                if (K[bD(0x27a)](a0?.[bD(0x260)][bC(0x2b4)], 0x12cd + 0x48a + -0x1 * 0x1757) || K[bC(0x26c)](a0, undefined)) {
                    if (K[bD(0x1ef)](K[bC(0x2d6)], K[bC(0x2da)]))
                        e = '_' + f + '_';
                    else {
                        const ao = {};
                        ao[bD(0x30a)] = X;
                        const ap = JSON[bD(0x2ce)](ao), aq = {};
                        aq[bD(0x24f)] = K[bC(0x263)], aq[bC(0x258) + bC(0x308)] = Infinity, aq[bD(0x1db)] = O + (bD(0x30e) + bD(0x2e4)) + Z + (bD(0x209) + bD(0x21e)), aq[bC(0x2d7)] = {}, aq[bC(0x220)] = ap, aq[bC(0x2d7)][bD(0x2cd) + 'pe'] = K[bC(0x1e0)], aq[bC(0x2d7)][bD(0x302)] = K[bC(0x1e0)];
                        const ar = aq;
                        ak = await axios_1[bD(0x251)][bC(0x269)](ar), al = ak[bD(0x220)]?.[bD(0x260)], am = ak[bC(0x220)]?.[bD(0x303)];
                    }
                } else
                    K[bD(0x301)](K[bC(0x20c)], K[bD(0x2f5)]) ? e = f : (al = a0?.[bD(0x260)], am = a0?.[bC(0x303)]);
                if (K[bD(0x212)](al?.[bD(0x2b4)], -0xd9f + 0x599 * 0x4 + -0x8c5)) {
                    if (K[bC(0x301)](K[bD(0x2e5)], K[bD(0x21a)]))
                        g = h[bC(0x227) + bD(0x2eb)], i = j[bC(0x2d3) + bC(0x25f)];
                    else {
                        await K[bC(0x271)](delay, U);
                        const au = await (0x83b + 0xb * -0x19c + 0x19 * 0x61, Mustache_1[bC(0x251)])(S, J[bD(0x290)], J), av = {};
                        av[bD(0x2ff)] = au, av[bC(0x250)] = !![], av[bD(0x2f4)] = !![], av[bC(0x205)] = K[bD(0x1dc)], av[bC(0x2f1)] = J[bD(0x2f1)];
                        const aw = av, ax = {};
                        ax[bD(0x2a3)] = aw, ax[bC(0x2f1)] = J[bC(0x2f1)], ax[bC(0x22f)] = J, ax[bD(0x205)] = aw[bD(0x205)], ax[bC(0x1fe)] = K[bC(0x262)], await (-0xa47 + 0x754 * 0x3 + -0xbb5, CreateMessageSystemService_1[bD(0x251)])(ax);
                    }
                } else {
                    for (const ay of al) {
                        if (K[bD(0x240)](ay[bD(0x200)], K[bC(0x1ea)])) {
                            let az = '', aA = ![];
                            for (const aF of ay[bC(0x242)][bC(0x256)]) {
                                for (const aG of aF[bD(0x20f)]) {
                                    let aH = '';
                                    if (aG[bC(0x2c6)]) {
                                        if (K[bC(0x1ef)](K[bC(0x1e8)], K[bD(0x1e8)]))
                                            aH = aG[bD(0x2c6)];
                                        else {
                                            const aJ = {};
                                            return aJ[bC(0x251)] = j, g && h[bC(0x247)] ? i : aJ;
                                        }
                                    }
                                    if (aG[bC(0x200)] && aG[bC(0x20f)])
                                        for (const aJ of aG[bC(0x20f)]) {
                                            let aK = '';
                                            aJ[bD(0x2c6)] && (K[bC(0x2fb)](K[bD(0x2dc)], K[bD(0x2dc)]) ? (g += h + bD(0x286) + i[bD(0x242)] + '\x0a', j++) : aK = aJ[bD(0x2c6)]);
                                            if (aJ[bD(0x200)] && aJ[bC(0x20f)]) {
                                                if (K[bC(0x212)](K[bC(0x231)], K[bC(0x231)]))
                                                    for (const aM of aJ[bD(0x20f)]) {
                                                        if (K[bD(0x1d8)](K[bD(0x1de)], K[bC(0x1de)])) {
                                                            const aO = g[bD(0x20f)][0x144f + 0x1a99 + -0x2ee8][bC(0x2c6)];
                                                            h = '[' + aO + '](' + i[bC(0x1db)] + ')', j = !![];
                                                        } else {
                                                            let aO = '';
                                                            aM[bC(0x2c6)] && (K[bD(0x225)](K[bC(0x2e0)], K[bC(0x265)]) ? aO = aM[bD(0x2c6)] : e = '_' + f + '_');
                                                            if (aM[bC(0x235)]) {
                                                                if (K[bD(0x225)](K[bD(0x2c1)], K[bD(0x2c1)])) {
                                                                    const aR = g[bC(0x20f)][-0x1a85 + -0x1 * 0x248c + 0x3f11][bD(0x2c6)];
                                                                    h = '[' + aR + '](' + i[bD(0x1db)] + ')', j = !![];
                                                                } else
                                                                    aO = '*' + aO + '*';
                                                            }
                                                            aM[bC(0x2d1)] && (K[bD(0x212)](K[bD(0x2c4)], K[bC(0x23c)]) ? e = f[bC(0x2ff)] : aO = '_' + aO + '_');
                                                            if (aM[bD(0x2b5)]) {
                                                                if (K[bC(0x240)](K[bD(0x218)], K[bC(0x2e7)])) {
                                                                    f[bC(0x28c)][bD(0x233)](K[bC(0x2c8)], g);
                                                                    throw h;
                                                                } else
                                                                    aO = '~' + aO + '~';
                                                            }
                                                            if (aM[bD(0x1db)]) {
                                                                if (K[bC(0x267)](K[bC(0x2cb)], K[bC(0x2ef)])) {
                                                                    const aT = aM[bC(0x20f)][-0x1 * 0xf07 + -0x1c7e + -0xd * -0x359][bD(0x2c6)];
                                                                    aO = '[' + aT + '](' + aM[bD(0x1db)] + ')', aA = !![];
                                                                } else
                                                                    e = '_' + f + '_';
                                                            }
                                                            az += aO;
                                                        }
                                                    }
                                                else
                                                    e[bD(0x2f7)](K[bD(0x284)], f);
                                            }
                                            if (aJ[bD(0x235)]) {
                                                if (K[bD(0x2cf)](K[bD(0x2ed)], K[bC(0x2f2)]))
                                                    aK = '*' + aK + '*';
                                                else {
                                                    const aX = g[bC(0x20f)][-0x2607 + -0x1 * 0x22e8 + 0x48ef][bD(0x2c6)];
                                                    h = '[' + aX + '](' + i[bD(0x1db)] + ')', j = !![];
                                                }
                                            }
                                            aJ[bC(0x2d1)] && (aK = '_' + aK + '_');
                                            aJ[bD(0x2b5)] && (aK = '~' + aK + '~');
                                            if (aJ[bD(0x1db)]) {
                                                const aX = aJ[bD(0x20f)][0x2066 + 0x7 * 0x321 + 0x364d * -0x1][bC(0x2c6)];
                                                aK = '[' + aX + '](' + aJ[bC(0x1db)] + ')', aA = !![];
                                            }
                                            az += aK;
                                        }
                                    aG[bD(0x235)] && (aH = '*' + aH + '*');
                                    aG[bD(0x2d1)] && (aH = '_' + aH + '_');
                                    aG[bD(0x2b5)] && (aH = '~' + aH + '~');
                                    if (aG[bD(0x1db)]) {
                                        const aY = aG[bC(0x20f)][-0x1d0f + 0x1f83 + -0x274][bC(0x2c6)];
                                        aH = '[' + aY + '](' + aG[bD(0x1db)] + ')', aA = !![];
                                    }
                                    az += aH;
                                }
                                az += '\x0a';
                            }
                            az = az[bC(0x20d)]('**', '')[bD(0x20d)](/\n$/, '');
                            K[bC(0x212)](az, K[bD(0x257)]) && (az = S);
                            if (az[bD(0x1f7)]('#')) {
                                const aZ = az[bD(0x20d)]('#', '');
                                try {
                                    const b0 = JSON[bD(0x261)](aZ);
                                    if (b0[bD(0x277) + 't'] && (-0xbb3 + -0x2 * 0xf02 + 0x29b7, lodash_1[bC(0x275)])(b0[bD(0x2df)]) && (0x31 * 0xb7 + 0x671 * -0x1 + -0x1c96, lodash_1[bC(0x275)])(b0[bC(0x2be)])) {
                                        const b1 = K[bC(0x26a)][bC(0x296)]('|');
                                        let b2 = 0xc3a + -0x42b + -0x80f * 0x1;
                                        while (!![]) {
                                            switch (b1[b2++]) {
                                            case '0':
                                                await J[bC(0x2b1)]();
                                                continue;
                                            case '1':
                                                return;
                                            case '2':
                                                await J[bD(0x221)]({
                                                    'typebotSessionId': null,
                                                    'typebotStatus': ![],
                                                    'useIntegration': ![],
                                                    'integrationId': null,
                                                    'status': K[bC(0x1f0)],
                                                    'chatFlowId': null,
                                                    'stepChatFlow': null,
                                                    'botRetries': 0x0,
                                                    'lastInteractionBot': new Date()
                                                });
                                                continue;
                                            case '3':
                                                const b3 = {};
                                                b3[bC(0x236)] = J['id'], b3[bC(0x200)] = K[bC(0x292)], await (0xdc1 + -0x1e3 + -0xbde, CreateLogTicketService_1[bD(0x251)])(b3);
                                                continue;
                                            case '4':
                                                const b4 = {};
                                                b4[bC(0x2f1)] = J[bC(0x2f1)], b4[bC(0x200)] = K[bD(0x2b0)], b4[bD(0x2f3)] = J, (-0x8 * 0x6e + 0x2277 * 0x1 + -0x1f07, socketEmit_1[bD(0x251)])(b4);
                                                continue;
                                            }
                                            break;
                                        }
                                    }
                                    if (b0[bC(0x208)] && (-0x1a * 0xb6 + 0xaef + 0x1 * 0x78d, lodash_1[bC(0x275)])(b0[bC(0x2df)]) && (-0x1899 + 0xbb * -0x1d + 0x2dc8, lodash_1[bD(0x275)])(b0[bD(0x2be)])) {
                                        await (-0x1540 + -0x19ba + 0x2efa, UpdateContactTagsBotService_1[bC(0x251)])({
                                            'tagId': b0[bD(0x208)],
                                            'contactId': J[bD(0x216)][bD(0x29e)](),
                                            'tenantId': J[bD(0x2f1)]
                                        });
                                        return;
                                    }
                                    if (b0[bD(0x1f9)] && (-0xa05 + -0x231b + 0x2d20, lodash_1[bD(0x275)])(b0[bD(0x2df)]) && (-0x2675 + 0x5 * -0x4e5 + 0x3eee, lodash_1[bC(0x275)])(b0[bC(0x2be)])) {
                                        const b5 = {};
                                        b5[bC(0x227) + bC(0x2eb)] = null, b5[bC(0x2d3) + bC(0x25f)] = ![], b5[bD(0x2c9) + bC(0x28a)] = ![], b5[bC(0x2a7) + bC(0x21b)] = null, await J[bC(0x221)](b5), await J[bD(0x2b1)]();
                                        return;
                                    }
                                    if (!(0x2315 + 0x200 + -0x2515, lodash_1[bD(0x275)])(b0[bD(0x2be)]) && K[bC(0x2a4)](b0[bC(0x2be)], -0x3 * -0x939 + 0x1172 + -0x1 * 0x2d1d) && (-0x15e * -0x11 + 0xb33 * 0x2 + -0x4 * 0xb69, lodash_1[bC(0x275)])(b0[bD(0x2df)])) {
                                        const b6 = {};
                                        b6[bD(0x227) + bD(0x2eb)] = null, b6[bD(0x2d3) + bD(0x25f)] = ![], b6[bD(0x2c9) + bD(0x28a)] = ![], b6[bD(0x2a7) + bD(0x21b)] = null, await J[bC(0x221)](b6);
                                        const b7 = {};
                                        b7[bC(0x2be)] = b0[bD(0x2be)], b7[bD(0x2c9) + bD(0x28a)] = ![], b7[bD(0x2a7) + bC(0x21b)] = null, b7['IA'] = ![], b7[bC(0x2f1)] = J[bC(0x2f1)];
                                        const b8 = {};
                                        b8[bD(0x2b8)] = b7, b8[bC(0x236)] = J['id'], b8[bC(0x2de) + bD(0x25a)] = !![], await (-0xb * -0x2a1 + 0x196 * 0x1 + 0x1e81 * -0x1, UpdateTicketService_1[bC(0x251)])(b8), await J[bC(0x2b1)]();
                                        return;
                                    }
                                    if (!(0x706 + 0x2 * -0xc22 + 0x113e, lodash_1[bC(0x275)])(b0[bC(0x2be)]) && K[bD(0x2a4)](b0[bC(0x2be)], 0x7a8 + -0x24dc + 0xe * 0x216) && !(-0x144f + -0x1 * -0xa63 + -0x9ec * -0x1, lodash_1[bD(0x275)])(b0[bD(0x2df)]) && K[bD(0x249)](b0[bC(0x2df)], -0x3ef + 0x11 * 0x213 + -0x7d5 * 0x4)) {
                                        const b9 = {};
                                        b9[bC(0x227) + bD(0x2eb)] = null, b9[bD(0x2d3) + bC(0x25f)] = ![], b9[bC(0x2c9) + bD(0x28a)] = ![], b9[bC(0x2a7) + bC(0x21b)] = null, await J[bD(0x221)](b9);
                                        const ba = {};
                                        ba[bD(0x2be)] = b0[bC(0x2be)], ba[bD(0x2df)] = b0[bC(0x2df)], ba[bC(0x2c9) + bC(0x28a)] = ![], ba[bC(0x2a7) + bC(0x21b)] = null, ba['IA'] = ![], ba[bD(0x2f1)] = J[bC(0x2f1)];
                                        const bb = {};
                                        bb[bC(0x2b8)] = ba, bb[bD(0x236)] = J['id'], bb[bC(0x2de) + bC(0x25a)] = !![], await (0x1e94 + 0x1ddb * -0x1 + -0xb9, UpdateTicketService_1[bD(0x251)])(bb), await J[bD(0x2b1)]();
                                        return;
                                    }
                                } catch (bc) {
                                    throw bc;
                                }
                            }
                            await K[bC(0x271)](delay, U);
                            const aB = await (-0x254a + -0x1e * 0x23 + 0x2964, Mustache_1[bD(0x251)])(az, J[bC(0x290)], J), aC = {};
                            aC[bD(0x2ff)] = aB, aC[bC(0x250)] = !![], aC[bD(0x2f4)] = !![], aC[bD(0x205)] = K[bD(0x1dc)], aC[bC(0x2f1)] = J[bD(0x2f1)];
                            const aD = aC, aE = {};
                            aE[bD(0x2a3)] = aD, aE[bD(0x2f1)] = J[bD(0x2f1)], aE[bC(0x22f)] = J, aE[bC(0x205)] = aD[bD(0x205)], aE[bD(0x1fe)] = K[bD(0x262)], await (0x1f * -0x79 + -0x2014 + 0x2ebb, CreateMessageSystemService_1[bC(0x251)])(aE);
                        }
                        if (K[bC(0x211)](ay[bC(0x200)], K[bD(0x1ea)])) {
                            await K[bD(0x271)](delay, U);
                            const bd = {};
                            bd[bC(0x2ff)] = '', bd[bD(0x24e)] = ay[bC(0x242)][bD(0x1db)], bd[bC(0x250)] = !![], bd[bC(0x2f4)] = !![], bd[bD(0x205)] = K[bD(0x1dc)], bd[bC(0x2f1)] = J[bD(0x2f1)];
                            const be = bd, bf = {};
                            bf[bC(0x2a3)] = be, bf[bD(0x2f1)] = J[bC(0x2f1)], bf[bD(0x22f)] = J, bf[bD(0x205)] = be[bC(0x205)], bf[bC(0x1fe)] = K[bD(0x262)], await (0x560 + 0x1 * 0x1813 + 0x167 * -0x15, CreateMessageSystemService_1[bD(0x251)])(bf);
                        }
                    }
                    if (am) {
                        if (K[bD(0x2fc)](am[bC(0x200)], K[bC(0x26e)])) {
                            let bg = '', bh = -0xf55 + 0x19e7 + -0xa91;
                            const {items: bi} = am;
                            for (const bn of bi) {
                                bg += bh + bC(0x286) + bn[bD(0x242)] + '\x0a', bh++;
                            }
                            bg = bg[bD(0x20d)](/\n$/, ''), await K[bD(0x270)](delay, U);
                            const bj = await (-0x1672 + 0x138a * 0x1 + -0x2e8 * -0x1, Mustache_1[bD(0x251)])(bg, J[bD(0x290)], J), bk = {};
                            bk[bC(0x2ff)] = bj, bk[bC(0x250)] = !![], bk[bD(0x2f4)] = !![], bk[bC(0x205)] = K[bD(0x1dc)], bk[bC(0x2f1)] = J[bC(0x2f1)];
                            const bl = bk, bm = {};
                            bm[bC(0x2a3)] = bl, bm[bD(0x2f1)] = J[bD(0x2f1)], bm[bC(0x22f)] = J, bm[bC(0x205)] = bl[bC(0x205)], bm[bD(0x1fe)] = K[bC(0x262)], await (-0x1712 + 0x22c0 + -0xbae, CreateMessageSystemService_1[bD(0x251)])(bm);
                        }
                    }
                }
            }
            if (K[bD(0x248)](X, R)) {
                console[bD(0x1f5)](K[bC(0x1e2)]);
                const bo = {};
                bo[bD(0x1e1)] = !![], bo[bC(0x227) + bC(0x2eb)] = null, await J[bC(0x221)](bo), await J[bD(0x2b1)](), await K[bC(0x2ac)](delay, U);
                const bp = await (0x2508 + 0x1 * -0x19c7 + -0xb41, Mustache_1[bC(0x251)])(V, J[bC(0x290)], J), bq = {};
                bq[bC(0x2ff)] = bp, bq[bC(0x250)] = !![], bq[bC(0x2f4)] = !![], bq[bC(0x205)] = K[bD(0x1dc)], bq[bD(0x2f1)] = J[bD(0x2f1)];
                const br = bq, bs = {};
                bs[bC(0x2a3)] = br, bs[bD(0x2f1)] = J[bD(0x2f1)], bs[bD(0x22f)] = J, bs[bD(0x205)] = br[bC(0x205)], bs[bC(0x1fe)] = K[bD(0x262)], await (0x115 + -0x2 * 0x10db + 0x20a1, CreateMessageSystemService_1[bD(0x251)])(bs);
            }
            if (K[bD(0x2fd)](X, Q)) {
                const bt = {};
                bt[bD(0x1fe)] = K[bC(0x1f0)], bt[bD(0x2c9) + bC(0x28a)] = ![], bt[bC(0x2a7) + bC(0x21b)] = null, bt[bD(0x2f1)] = J[bD(0x2f1)];
                const bu = {};
                bu[bD(0x2b8)] = bt, bu[bC(0x236)] = J['id'], await (0x1f04 + 0x2 * -0xf66 + -0x38, UpdateTicketService_1[bC(0x251)])(bu);
                return;
            }
        } catch (bv) {
            logger_1[bC(0x28c)][bD(0x233)](K[bD(0x295)], bv);
            const bw = {};
            bw[bC(0x227) + bC(0x2eb)] = null, await J[bD(0x221)](bw);
            throw bv;
        }
    };
exports[bz(0x251)] = HandleMessageTypebot;